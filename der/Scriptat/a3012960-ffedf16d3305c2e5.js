"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{476:function(n,h,j){j.d(h,{sO:function(){return WebAuth}});var P,q=j(7604),B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==j.g?j.g:"undefined"!=typeof self?self:{};function createCommonjsModule(n,h){return n(h={exports:{}},h.exports),h.exports}var U=createCommonjsModule(function(n){var h;h=function(){return function(){return function(n){var h=[];if(0===n.length)return"";if("string"!=typeof n[0])throw TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var j=n.shift();n[0]=j+n[0]}n[0].match(/^file:\/\/\//)?n[0]=n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0]=n[0].replace(/^([^/:]+):\/*/,"$1://");for(var P=0;P<n.length;P++){var q=n[P];if("string"!=typeof q)throw TypeError("Url must be a string. Received "+q);""!==q&&(P>0&&(q=q.replace(/^[\/]+/,"")),q=P<n.length-1?q.replace(/[\/]+$/,""):q.replace(/[\/]+$/,"/"),h.push(q))}var B=h.join("/"),U=(B=B.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return U.shift()+(U.length>0?"?":"")+U.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},n.exports?n.exports=h():B.urljoin=h()}),L="undefined"!=typeof Symbol&&Symbol,H={foo:{}},W=Object,V=Object.prototype.toString,z=Math.max,concatty=function(n,h){for(var j=[],P=0;P<n.length;P+=1)j[P]=n[P];for(var q=0;q<h.length;q+=1)j[q+n.length]=h[q];return j},slicy=function(n,h){for(var j=[],P=h||0,q=0;P<n.length;P+=1,q+=1)j[q]=n[P];return j},joiny=function(n,h){for(var j="",P=0;P<n.length;P+=1)j+=n[P],P+1<n.length&&(j+=h);return j},$=Function.prototype.bind||function(n){var h=this;if("function"!=typeof h||"[object Function]"!==V.apply(h))throw TypeError("Function.prototype.bind called on incompatible "+h);for(var j,P=slicy(arguments,1),q=z(0,h.length-P.length),B=[],U=0;U<q;U++)B[U]="$"+U;if(j=Function("binder","return function ("+joiny(B,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof j){var q=h.apply(this,concatty(P,arguments));return Object(q)===q?q:this}return h.apply(n,concatty(P,arguments))}),h.prototype){var Empty=function(){};Empty.prototype=h.prototype,j.prototype=new Empty,Empty.prototype=null}return j},J=$.call(Function.call,Object.prototype.hasOwnProperty),G=SyntaxError,K=Function,X=TypeError,getEvalledConstructor=function(n){try{return K('"use strict"; return ('+n+").constructor;")()}catch(n){}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch(n){Q=null}var throwTypeError=function(){throw new X},Z=Q?function(){try{return throwTypeError}catch(n){try{return Q(arguments,"callee").get}catch(n){return throwTypeError}}}():throwTypeError,Y="function"==typeof L&&"function"==typeof Symbol&&"symbol"==typeof L("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var n={},h=Symbol("test"),j=Object(h);if("string"==typeof h||"[object Symbol]"!==Object.prototype.toString.call(h)||"[object Symbol]"!==Object.prototype.toString.call(j))return!1;for(h in n[h]=42,n)return!1;if("function"==typeof Object.keys&&0!==Object.keys(n).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var P=Object.getOwnPropertySymbols(n);if(1!==P.length||P[0]!==h||!Object.prototype.propertyIsEnumerable.call(n,h))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(n,h);if(42!==q.value||!0!==q.enumerable)return!1}return!0}(),tt={__proto__:H}.foo===H.foo&&!(({__proto__:null})instanceof W),te=Object.getPrototypeOf||(tt?function(n){return n.__proto__}:null),tr={},tn="undefined"!=typeof Uint8Array&&te?te(Uint8Array):void 0,to={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":Y&&te?te([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":tr,"%AsyncGenerator%":tr,"%AsyncGeneratorFunction%":tr,"%AsyncIteratorPrototype%":tr,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":K,"%GeneratorFunction%":tr,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Y&&te?te(te([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Y&&te?te((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Y&&te?te((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Y&&te?te(""[Symbol.iterator]()):void 0,"%Symbol%":Y?Symbol:void 0,"%SyntaxError%":G,"%ThrowTypeError%":Z,"%TypedArray%":tn,"%TypeError%":X,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(te)try{null.error}catch(n){var ti=te(te(n));to["%Error.prototype%"]=ti}var ts={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ta=$.call(Function.call,Array.prototype.concat),tc=$.call(Function.apply,Array.prototype.splice),tu=$.call(Function.call,String.prototype.replace),tp=$.call(Function.call,String.prototype.slice),tl=$.call(Function.call,RegExp.prototype.exec),th=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tf=/\\(\\)?/g,stringToPath=function(n){var h=tp(n,0,1),j=tp(n,-1);if("%"===h&&"%"!==j)throw new G("invalid intrinsic syntax, expected closing `%`");if("%"===j&&"%"!==h)throw new G("invalid intrinsic syntax, expected opening `%`");var P=[];return tu(n,th,function(n,h,j,q){P[P.length]=j?tu(q,tf,"$1"):h||n}),P},getBaseIntrinsic=function(n,h){var j,P=n;if(J(ts,P)&&(P="%"+(j=ts[P])[0]+"%"),J(to,P)){var q=to[P];if(q===tr&&(q=function doEval(n){var h;if("%AsyncFunction%"===n)h=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===n)h=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===n)h=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===n){var j=doEval("%AsyncGeneratorFunction%");j&&(h=j.prototype)}else if("%AsyncIteratorPrototype%"===n){var P=doEval("%AsyncGenerator%");P&&te&&(h=te(P.prototype))}return to[n]=h,h}(P)),void 0===q&&!h)throw new X("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:j,name:P,value:q}}throw new G("intrinsic "+n+" does not exist!")},getIntrinsic=function(n,h){if("string"!=typeof n||0===n.length)throw new X("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof h)throw new X('"allowMissing" argument must be a boolean');if(null===tl(/^%?[^%]*%?$/,n))throw new G("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var j=stringToPath(n),P=j.length>0?j[0]:"",q=getBaseIntrinsic("%"+P+"%",h),B=q.name,U=q.value,L=!1,H=q.alias;H&&(P=H[0],tc(j,ta([0,1],H)));for(var W=1,V=!0;W<j.length;W+=1){var z=j[W],$=tp(z,0,1),K=tp(z,-1);if(('"'===$||"'"===$||"`"===$||'"'===K||"'"===K||"`"===K)&&$!==K)throw new G("property names with quotes must have matching quotes");if("constructor"!==z&&V||(L=!0),J(to,B="%"+(P+="."+z)+"%"))U=to[B];else if(null!=U){if(!(z in U)){if(!h)throw new X("base intrinsic for "+n+" exists, but the property is not available.");return}if(Q&&W+1>=j.length){var Z=Q(U,z);U=(V=!!Z)&&"get"in Z&&!("originalValue"in Z.get)?Z.get:U[z]}else V=J(U,z),U=U[z];V&&!L&&(to[B]=U)}}return U},td=createCommonjsModule(function(n){var h=getIntrinsic("%Function.prototype.apply%"),j=getIntrinsic("%Function.prototype.call%"),P=getIntrinsic("%Reflect.apply%",!0)||$.call(j,h),q=getIntrinsic("%Object.getOwnPropertyDescriptor%",!0),B=getIntrinsic("%Object.defineProperty%",!0),U=getIntrinsic("%Math.max%");if(B)try{B({},"a",{value:1})}catch(n){B=null}n.exports=function(n){var h=P($,j,arguments);return q&&B&&q(h,"length").configurable&&B(h,"length",{value:1+U(0,n.length-(arguments.length-1))}),h};var applyBind=function(){return P($,h,arguments)};B?B(n.exports,"apply",{value:applyBind}):n.exports.apply=applyBind}),ty=(td.apply,td(getIntrinsic("String.prototype.indexOf"))),callBound=function(n,h){var j=getIntrinsic(n,!!h);return"function"==typeof j&&ty(n,".prototype.")>-1?td(j):j},tm=(P=Object.freeze({__proto__:null,default:{}}))&&P.default||P,tg="function"==typeof Map&&Map.prototype,tv=Object.getOwnPropertyDescriptor&&tg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,tb=tg&&tv&&"function"==typeof tv.get?tv.get:null,tw=tg&&Map.prototype.forEach,t_="function"==typeof Set&&Set.prototype,tT=Object.getOwnPropertyDescriptor&&t_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tO=t_&&tT&&"function"==typeof tT.get?tT.get:null,tk=t_&&Set.prototype.forEach,tS="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,tA="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,tC="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,tE=Boolean.prototype.valueOf,tx=Object.prototype.toString,tj=Function.prototype.toString,tR=String.prototype.match,tD=String.prototype.slice,tP=String.prototype.replace,tI=String.prototype.toUpperCase,tq=String.prototype.toLowerCase,tM=RegExp.prototype.test,tB=Array.prototype.concat,tU=Array.prototype.join,tL=Array.prototype.slice,tN=Math.floor,tH="function"==typeof BigInt?BigInt.prototype.valueOf:null,tW=Object.getOwnPropertySymbols,tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,tV="function"==typeof Symbol&&"object"==typeof Symbol.iterator,tz="function"==typeof Symbol&&Symbol.toStringTag?Symbol.toStringTag:null,t$=Object.prototype.propertyIsEnumerable,tJ=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function addNumericSeparator(n,h){if(n===1/0||n===-1/0||n!=n||n&&n>-1e3&&n<1e3||tM.call(/e/,h))return h;var j=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof n){var P=n<0?-tN(-n):tN(n);if(P!==n){var q=String(P),B=tD.call(h,q.length+1);return tP.call(q,j,"$&_")+"."+tP.call(tP.call(B,/([0-9]{3})/g,"$&_"),/_$/,"")}}return tP.call(h,j,"$&_")}var tG=tm.custom,tK=isSymbol(tG)?tG:null,objectInspect=function inspect_(n,h,j,P){var q=h||{};if(has(q,"quoteStyle")&&"single"!==q.quoteStyle&&"double"!==q.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(has(q,"maxStringLength")&&("number"==typeof q.maxStringLength?q.maxStringLength<0&&q.maxStringLength!==1/0:null!==q.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var B=!has(q,"customInspect")||q.customInspect;if("boolean"!=typeof B&&"symbol"!==B)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(q,"indent")&&null!==q.indent&&"	"!==q.indent&&!(parseInt(q.indent,10)===q.indent&&q.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(q,"numericSeparator")&&"boolean"!=typeof q.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var U=q.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function inspectString(n,h){if(n.length>h.maxStringLength){var j=n.length-h.maxStringLength;return inspectString(tD.call(n,0,h.maxStringLength),h)+"... "+j+" more character"+(j>1?"s":"")}return wrapQuotes(tP.call(tP.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",h)}(n,q);if("number"==typeof n){if(0===n)return 1/0/n>0?"0":"-0";var L=String(n);return U?addNumericSeparator(n,L):L}if("bigint"==typeof n){var H=String(n)+"n";return U?addNumericSeparator(n,H):H}var W=void 0===q.depth?5:q.depth;if(void 0===j&&(j=0),j>=W&&W>0&&"object"==typeof n)return isArray(n)?"[Array]":"[Object]";var V=function(n,h){var j;if("	"===n.indent)j="	";else{if(!("number"==typeof n.indent&&n.indent>0))return null;j=tU.call(Array(n.indent+1)," ")}return{base:j,prev:tU.call(Array(h+1),j)}}(q,j);if(void 0===P)P=[];else if(indexOf(P,n)>=0)return"[Circular]";function inspect(n,h,B){if(h&&(P=tL.call(P)).push(h),B){var U={depth:q.depth};return has(q,"quoteStyle")&&(U.quoteStyle=q.quoteStyle),inspect_(n,U,j+1,P)}return inspect_(n,q,j+1,P)}if("function"==typeof n&&!isRegExp(n)){var z=function(n){if(n.name)return n.name;var h=tR.call(tj.call(n),/^function\s*([\w$]+)/);return h?h[1]:null}(n),$=arrObjKeys(n,inspect);return"[Function"+(z?": "+z:" (anonymous)")+"]"+($.length>0?" { "+tU.call($,", ")+" }":"")}if(isSymbol(n)){var J=tV?tP.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):tF.call(n);return"object"!=typeof n||tV?J:markBoxed(J)}if(n&&"object"==typeof n&&("undefined"!=typeof HTMLElement&&n instanceof HTMLElement||"string"==typeof n.nodeName&&"function"==typeof n.getAttribute)){for(var G,K="<"+tq.call(String(n.nodeName)),X=n.attributes||[],Q=0;Q<X.length;Q++)K+=" "+X[Q].name+"="+wrapQuotes((G=X[Q].value,tP.call(String(G),/"/g,"&quot;")),"double",q);return K+=">",n.childNodes&&n.childNodes.length&&(K+="..."),K+="</"+tq.call(String(n.nodeName))+">"}if(isArray(n)){if(0===n.length)return"[]";var Z=arrObjKeys(n,inspect);return V&&!function(n){for(var h=0;h<n.length;h++)if(indexOf(n[h],"\n")>=0)return!1;return!0}(Z)?"["+indentedJoin(Z,V)+"]":"[ "+tU.call(Z,", ")+" ]"}if(!("[object Error]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n)){var Y=arrObjKeys(n,inspect);return"cause"in Error.prototype||!("cause"in n)||t$.call(n,"cause")?0===Y.length?"["+String(n)+"]":"{ ["+String(n)+"] "+tU.call(Y,", ")+" }":"{ ["+String(n)+"] "+tU.call(tB.call("[cause]: "+inspect(n.cause),Y),", ")+" }"}if("object"==typeof n&&B){if(tK&&"function"==typeof n[tK]&&tm)return tm(n,{depth:W-j});if("symbol"!==B&&"function"==typeof n.inspect)return n.inspect()}if(function(n){if(!tb||!n||"object"!=typeof n)return!1;try{tb.call(n);try{tO.call(n)}catch(n){return!0}return n instanceof Map}catch(n){}return!1}(n)){var tt=[];return tw&&tw.call(n,function(h,j){tt.push(inspect(j,n,!0)+" => "+inspect(h,n))}),collectionOf("Map",tb.call(n),tt,V)}if(function(n){if(!tO||!n||"object"!=typeof n)return!1;try{tO.call(n);try{tb.call(n)}catch(n){return!0}return n instanceof Set}catch(n){}return!1}(n)){var te=[];return tk&&tk.call(n,function(h){te.push(inspect(h,n))}),collectionOf("Set",tO.call(n),te,V)}if(function(n){if(!tS||!n||"object"!=typeof n)return!1;try{tS.call(n,tS);try{tA.call(n,tA)}catch(n){return!0}return n instanceof WeakMap}catch(n){}return!1}(n))return weakCollectionOf("WeakMap");if(function(n){if(!tA||!n||"object"!=typeof n)return!1;try{tA.call(n,tA);try{tS.call(n,tS)}catch(n){return!0}return n instanceof WeakSet}catch(n){}return!1}(n))return weakCollectionOf("WeakSet");if(function(n){if(!tC||!n||"object"!=typeof n)return!1;try{return tC.call(n),!0}catch(n){}return!1}(n))return weakCollectionOf("WeakRef");if(!("[object Number]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n))return markBoxed(inspect(Number(n)));if(function(n){if(!n||"object"!=typeof n||!tH)return!1;try{return tH.call(n),!0}catch(n){}return!1}(n))return markBoxed(inspect(tH.call(n)));if(!("[object Boolean]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n))return markBoxed(tE.call(n));if(!("[object String]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n))return markBoxed(inspect(String(n)));if(("[object Date]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n)&&!isRegExp(n)){var tr=arrObjKeys(n,inspect),tn=tJ?tJ(n)===Object.prototype:n instanceof Object||n.constructor===Object,to=n instanceof Object?"":"null prototype",ti=!tn&&tz&&Object(n)===n&&tz in n?tD.call(toStr$1(n),8,-1):to?"Object":"",ts=(tn||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(ti||to?"["+tU.call(tB.call([],ti||[],to||[]),": ")+"] ":"");return 0===tr.length?ts+"{}":V?ts+"{"+indentedJoin(tr,V)+"}":ts+"{ "+tU.call(tr,", ")+" }"}return String(n)};function wrapQuotes(n,h,j){var P="double"===(j.quoteStyle||h)?'"':"'";return P+n+P}function isArray(n){return!("[object Array]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n)}function isRegExp(n){return!("[object RegExp]"!==toStr$1(n)||tz&&"object"==typeof n&&tz in n)}function isSymbol(n){if(tV)return n&&"object"==typeof n&&n instanceof Symbol;if("symbol"==typeof n)return!0;if(!n||"object"!=typeof n||!tF)return!1;try{return tF.call(n),!0}catch(n){}return!1}var tX=Object.prototype.hasOwnProperty||function(n){return n in this};function has(n,h){return tX.call(n,h)}function toStr$1(n){return tx.call(n)}function indexOf(n,h){if(n.indexOf)return n.indexOf(h);for(var j=0,P=n.length;j<P;j++)if(n[j]===h)return j;return -1}function lowbyte(n){var h=n.charCodeAt(0),j={8:"b",9:"t",10:"n",12:"f",13:"r"}[h];return j?"\\"+j:"\\x"+(h<16?"0":"")+tI.call(h.toString(16))}function markBoxed(n){return"Object("+n+")"}function weakCollectionOf(n){return n+" { ? }"}function collectionOf(n,h,j,P){return n+" ("+h+") {"+(P?indentedJoin(j,P):tU.call(j,", "))+"}"}function indentedJoin(n,h){if(0===n.length)return"";var j="\n"+h.prev+h.base;return j+tU.call(n,","+j)+"\n"+h.prev}function arrObjKeys(n,h){var j=isArray(n),P=[];if(j){P.length=n.length;for(var q=0;q<n.length;q++)P[q]=has(n,q)?h(n[q],n):""}var B,U="function"==typeof tW?tW(n):[];if(tV){B={};for(var L=0;L<U.length;L++)B["$"+U[L]]=U[L]}for(var H in n)has(n,H)&&(j&&String(Number(H))===H&&H<n.length||tV&&B["$"+H]instanceof Symbol||(tM.call(/[^\w$]/,H)?P.push(h(H,n)+": "+h(n[H],n)):P.push(H+": "+h(n[H],n))));if("function"==typeof tW)for(var W=0;W<U.length;W++)t$.call(n,U[W])&&P.push("["+h(U[W])+"]: "+h(n[U[W]],n));return P}var tQ=getIntrinsic("%TypeError%"),tZ=getIntrinsic("%WeakMap%",!0),tY=getIntrinsic("%Map%",!0),t0=callBound("WeakMap.prototype.get",!0),t1=callBound("WeakMap.prototype.set",!0),t2=callBound("WeakMap.prototype.has",!0),t3=callBound("Map.prototype.get",!0),t6=callBound("Map.prototype.set",!0),t5=callBound("Map.prototype.has",!0),listGetNode=function(n,h){for(var j,P=n;null!==(j=P.next);P=j)if(j.key===h)return P.next=j.next,j.next=n.next,n.next=j,j},sideChannel=function(){var n,h,j,P={assert:function(n){if(!P.has(n))throw new tQ("Side channel does not contain "+objectInspect(n))},get:function(P){if(tZ&&P&&("object"==typeof P||"function"==typeof P)){if(n)return t0(n,P)}else if(tY){if(h)return t3(h,P)}else if(j){var q;return(q=listGetNode(j,P))&&q.value}},has:function(P){if(tZ&&P&&("object"==typeof P||"function"==typeof P)){if(n)return t2(n,P)}else if(tY){if(h)return t5(h,P)}else if(j)return!!listGetNode(j,P);return!1},set:function(P,q){var B,U;tZ&&P&&("object"==typeof P||"function"==typeof P)?(n||(n=new tZ),t1(n,P,q)):tY?(h||(h=new tY),t6(h,P,q)):(j||(j={key:{},next:null}),(U=listGetNode(B=j,P))?U.value=q:B.next={key:P,next:B.next,value:q})}};return P},t4=String.prototype.replace,t8=/%20/g,t9="RFC3986",t7={default:t9,formatters:{RFC1738:function(n){return t4.call(n,t8,"+")},RFC3986:function(n){return String(n)}},RFC1738:"RFC1738",RFC3986:t9},et=Object.prototype.hasOwnProperty,ee=Array.isArray,er=function(){for(var n=[],h=0;h<256;++h)n.push("%"+((h<16?"0":"")+h.toString(16)).toUpperCase());return n}(),arrayToObject=function(n,h){for(var j=h&&h.plainObjects?Object.create(null):{},P=0;P<n.length;++P)void 0!==n[P]&&(j[P]=n[P]);return j},en={arrayToObject:arrayToObject,assign:function(n,h){return Object.keys(h).reduce(function(n,j){return n[j]=h[j],n},n)},combine:function(n,h){return[].concat(n,h)},compact:function(n){for(var h=[{obj:{o:n},prop:"o"}],j=[],P=0;P<h.length;++P)for(var q=h[P],B=q.obj[q.prop],U=Object.keys(B),L=0;L<U.length;++L){var H=U[L],W=B[H];"object"==typeof W&&null!==W&&-1===j.indexOf(W)&&(h.push({obj:B,prop:H}),j.push(W))}return function(n){for(;n.length>1;){var h=n.pop(),j=h.obj[h.prop];if(ee(j)){for(var P=[],q=0;q<j.length;++q)void 0!==j[q]&&P.push(j[q]);h.obj[h.prop]=P}}}(h),n},decode:function(n,h,j){var P=n.replace(/\+/g," ");if("iso-8859-1"===j)return P.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(P)}catch(n){return P}},encode:function(n,h,j,P,q){if(0===n.length)return n;var B=n;if("symbol"==typeof n?B=Symbol.prototype.toString.call(n):"string"!=typeof n&&(B=String(n)),"iso-8859-1"===j)return escape(B).replace(/%u[0-9a-f]{4}/gi,function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"});for(var U="",L=0;L<B.length;++L){var H=B.charCodeAt(L);45===H||46===H||95===H||126===H||H>=48&&H<=57||H>=65&&H<=90||H>=97&&H<=122||q===t7.RFC1738&&(40===H||41===H)?U+=B.charAt(L):H<128?U+=er[H]:H<2048?U+=er[192|H>>6]+er[128|63&H]:H<55296||H>=57344?U+=er[224|H>>12]+er[128|H>>6&63]+er[128|63&H]:(L+=1,U+=er[240|(H=65536+((1023&H)<<10|1023&B.charCodeAt(L)))>>18]+er[128|H>>12&63]+er[128|H>>6&63]+er[128|63&H])}return U},isBuffer:function(n){return!(!n||"object"!=typeof n)&&!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},isRegExp:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},maybeMap:function(n,h){if(ee(n)){for(var j=[],P=0;P<n.length;P+=1)j.push(h(n[P]));return j}return h(n)},merge:function merge(n,h,j){if(!h)return n;if("object"!=typeof h){if(ee(n))n.push(h);else{if(!n||"object"!=typeof n)return[n,h];(j&&(j.plainObjects||j.allowPrototypes)||!et.call(Object.prototype,h))&&(n[h]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(h);var P=n;return ee(n)&&!ee(h)&&(P=arrayToObject(n,j)),ee(n)&&ee(h)?(h.forEach(function(h,P){if(et.call(n,P)){var q=n[P];q&&"object"==typeof q&&h&&"object"==typeof h?n[P]=merge(q,h,j):n.push(h)}else n[P]=h}),n):Object.keys(h).reduce(function(n,P){var q=h[P];return et.call(n,P)?n[P]=merge(n[P],q,j):n[P]=q,n},P)}},eo=Object.prototype.hasOwnProperty,ei={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,h){return n+"["+h+"]"},repeat:function(n){return n}},es=Array.isArray,ea=Array.prototype.push,pushToArray=function(n,h){ea.apply(n,es(h)?h:[h])},ec=Date.prototype.toISOString,eu=t7.default,ep={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:en.encode,encodeValuesOnly:!1,format:eu,formatter:t7.formatters[eu],indices:!1,serializeDate:function(n){return ec.call(n)},skipNulls:!1,strictNullHandling:!1},el={},stringify=function stringify(n,h,j,P,q,B,U,L,H,W,V,z,$,J,G,K){for(var X=n,Q=K,Z=0,Y=!1;void 0!==(Q=Q.get(el))&&!Y;){var tt=Q.get(n);if(Z+=1,void 0!==tt){if(tt===Z)throw RangeError("Cyclic object value");Y=!0}void 0===Q.get(el)&&(Z=0)}if("function"==typeof L?X=L(h,X):X instanceof Date?X=V(X):"comma"===j&&es(X)&&(X=en.maybeMap(X,function(n){return n instanceof Date?V(n):n})),null===X){if(q)return U&&!J?U(h,ep.encoder,G,"key",z):h;X=""}if("string"==typeof(te=X)||"number"==typeof te||"boolean"==typeof te||"symbol"==typeof te||"bigint"==typeof te||en.isBuffer(X))return U?[$(J?h:U(h,ep.encoder,G,"key",z))+"="+$(U(X,ep.encoder,G,"value",z))]:[$(h)+"="+$(String(X))];var te,tr,tn=[];if(void 0===X)return tn;if("comma"===j&&es(X))J&&U&&(X=en.maybeMap(X,U)),tr=[{value:X.length>0?X.join(",")||null:void 0}];else if(es(L))tr=L;else{var to=Object.keys(X);tr=H?to.sort(H):to}for(var ti=P&&es(X)&&1===X.length?h+"[]":h,ts=0;ts<tr.length;++ts){var ta=tr[ts],tc="object"==typeof ta&&void 0!==ta.value?ta.value:X[ta];if(!B||null!==tc){var tu=es(X)?"function"==typeof j?j(ti,ta):ti:ti+(W?"."+ta:"["+ta+"]");K.set(n,Z);var tp=sideChannel();tp.set(el,K),pushToArray(tn,stringify(tc,tu,j,P,q,B,"comma"===j&&J&&es(X)?null:U,L,H,W,V,z,$,J,G,tp))}}return tn},eh=Object.prototype.hasOwnProperty,ef=Array.isArray,ed={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:en.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},parseArrayValue=function(n,h){return n&&"string"==typeof n&&h.comma&&n.indexOf(",")>-1?n.split(","):n},parseKeys=function(n,h,j,P){if(n){var q=j.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,B=/(\[[^[\]]*])/g,U=j.depth>0&&/(\[[^[\]]*])/.exec(q),L=U?q.slice(0,U.index):q,H=[];if(L){if(!j.plainObjects&&eh.call(Object.prototype,L)&&!j.allowPrototypes)return;H.push(L)}for(var W=0;j.depth>0&&null!==(U=B.exec(q))&&W<j.depth;){if(W+=1,!j.plainObjects&&eh.call(Object.prototype,U[1].slice(1,-1))&&!j.allowPrototypes)return;H.push(U[1])}return U&&H.push("["+q.slice(U.index)+"]"),function(n,h,j,P){for(var q=P?h:parseArrayValue(h,j),B=n.length-1;B>=0;--B){var U,L=n[B];if("[]"===L&&j.parseArrays)U=[].concat(q);else{U=j.plainObjects?Object.create(null):{};var H="["===L.charAt(0)&&"]"===L.charAt(L.length-1)?L.slice(1,-1):L,W=parseInt(H,10);j.parseArrays||""!==H?!isNaN(W)&&L!==H&&String(W)===H&&W>=0&&j.parseArrays&&W<=j.arrayLimit?(U=[])[W]=q:"__proto__"!==H&&(U[H]=q):U={0:q}}q=U}return q}(H,h,j,P)}},ey={formats:t7,parse:function(n,h){var j=function(n){if(!n)return ed;if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=void 0===n.charset?ed.charset:n.charset;return{allowDots:void 0===n.allowDots?ed.allowDots:!!n.allowDots,allowPrototypes:"boolean"==typeof n.allowPrototypes?n.allowPrototypes:ed.allowPrototypes,allowSparse:"boolean"==typeof n.allowSparse?n.allowSparse:ed.allowSparse,arrayLimit:"number"==typeof n.arrayLimit?n.arrayLimit:ed.arrayLimit,charset:h,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:ed.charsetSentinel,comma:"boolean"==typeof n.comma?n.comma:ed.comma,decoder:"function"==typeof n.decoder?n.decoder:ed.decoder,delimiter:"string"==typeof n.delimiter||en.isRegExp(n.delimiter)?n.delimiter:ed.delimiter,depth:"number"==typeof n.depth||!1===n.depth?+n.depth:ed.depth,ignoreQueryPrefix:!0===n.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof n.interpretNumericEntities?n.interpretNumericEntities:ed.interpretNumericEntities,parameterLimit:"number"==typeof n.parameterLimit?n.parameterLimit:ed.parameterLimit,parseArrays:!1!==n.parseArrays,plainObjects:"boolean"==typeof n.plainObjects?n.plainObjects:ed.plainObjects,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:ed.strictNullHandling}}(h);if(""===n||null==n)return j.plainObjects?Object.create(null):{};for(var P="string"==typeof n?function(n,h){var j,P={__proto__:null},q=h.ignoreQueryPrefix?n.replace(/^\?/,""):n,B=h.parameterLimit===1/0?void 0:h.parameterLimit,U=q.split(h.delimiter,B),L=-1,H=h.charset;if(h.charsetSentinel)for(j=0;j<U.length;++j)0===U[j].indexOf("utf8=")&&("utf8=%E2%9C%93"===U[j]?H="utf-8":"utf8=%26%2310003%3B"===U[j]&&(H="iso-8859-1"),L=j,j=U.length);for(j=0;j<U.length;++j)if(j!==L){var W,V,z=U[j],$=z.indexOf("]="),J=-1===$?z.indexOf("="):$+1;-1===J?(W=h.decoder(z,ed.decoder,H,"key"),V=h.strictNullHandling?null:""):(W=h.decoder(z.slice(0,J),ed.decoder,H,"key"),V=en.maybeMap(parseArrayValue(z.slice(J+1),h),function(n){return h.decoder(n,ed.decoder,H,"value")})),V&&h.interpretNumericEntities&&"iso-8859-1"===H&&(V=V.replace(/&#(\d+);/g,function(n,h){return String.fromCharCode(parseInt(h,10))})),z.indexOf("[]=")>-1&&(V=ef(V)?[V]:V),eh.call(P,W)?P[W]=en.combine(P[W],V):P[W]=V}return P}(n,j):n,q=j.plainObjects?Object.create(null):{},B=Object.keys(P),U=0;U<B.length;++U){var L=B[U],H=parseKeys(L,P[L],j,"string"==typeof n);q=en.merge(q,H,j)}return!0===j.allowSparse?q:en.compact(q)},stringify:function(n,h){var j,P=n,q=function(n){if(!n)return ep;if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw TypeError("Encoder has to be a function.");var h=n.charset||ep.charset;if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=t7.default;if(void 0!==n.format){if(!eo.call(t7.formatters,n.format))throw TypeError("Unknown format option provided.");j=n.format}var P=t7.formatters[j],q=ep.filter;return("function"==typeof n.filter||es(n.filter))&&(q=n.filter),{addQueryPrefix:"boolean"==typeof n.addQueryPrefix?n.addQueryPrefix:ep.addQueryPrefix,allowDots:void 0===n.allowDots?ep.allowDots:!!n.allowDots,charset:h,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:ep.charsetSentinel,delimiter:void 0===n.delimiter?ep.delimiter:n.delimiter,encode:"boolean"==typeof n.encode?n.encode:ep.encode,encoder:"function"==typeof n.encoder?n.encoder:ep.encoder,encodeValuesOnly:"boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:ep.encodeValuesOnly,filter:q,format:j,formatter:P,serializeDate:"function"==typeof n.serializeDate?n.serializeDate:ep.serializeDate,skipNulls:"boolean"==typeof n.skipNulls?n.skipNulls:ep.skipNulls,sort:"function"==typeof n.sort?n.sort:null,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:ep.strictNullHandling}}(h);"function"==typeof q.filter?P=(0,q.filter)("",P):es(q.filter)&&(j=q.filter);var B,U=[];if("object"!=typeof P||null===P)return"";B=h&&h.arrayFormat in ei?h.arrayFormat:h&&"indices"in h?h.indices?"indices":"repeat":"indices";var L=ei[B];if(h&&"commaRoundTrip"in h&&"boolean"!=typeof h.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var H="comma"===L&&h&&h.commaRoundTrip;j||(j=Object.keys(P)),q.sort&&j.sort(q.sort);for(var W=sideChannel(),V=0;V<j.length;++V){var z=j[V];q.skipNulls&&null===P[z]||pushToArray(U,stringify(P[z],z,L,H,q.strictNullHandling,q.skipNulls,q.encode?q.encoder:null,q.filter,q.sort,q.allowDots,q.serializeDate,q.format,q.formatter,q.encodeValuesOnly,q.charset,W))}var $=U.join(q.delimiter),J=!0===q.addQueryPrefix?"?":"";return q.charsetSentinel&&("iso-8859-1"===q.charset?J+="utf8=%26%2310003%3B&":J+="utf8=%E2%9C%93&"),$.length>0?J+$:""}},em=createCommonjsModule(function(n){function Emitter(n){if(n)return function(n){for(var h in Emitter.prototype)n[h]=Emitter.prototype[h];return n}(n)}n.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(n,h){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(h),this},Emitter.prototype.once=function(n,h){function on(){this.off(n,on),h.apply(this,arguments)}return on.fn=h,this.on(n,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(n,h){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var j,P=this._callbacks["$"+n];if(!P)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var q=0;q<P.length;q++)if((j=P[q])===h||j.fn===h){P.splice(q,1);break}return 0===P.length&&delete this._callbacks["$"+n],this},Emitter.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var h=Array(arguments.length-1),j=this._callbacks["$"+n],P=1;P<arguments.length;P++)h[P-1]=arguments[P];if(j){P=0;for(var q=(j=j.slice(0)).length;P<q;++P)j[P].apply(this,h)}return this},Emitter.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Emitter.prototype.hasListeners=function(n){return!!this.listeners(n).length}});stringify$1.default=stringify$1,stringify$1.stable=deterministicStringify,stringify$1.stableStringify=deterministicStringify;var eg=[],ev=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(n,h,j,P){var q;void 0===P&&(P=defaultOptions()),function decirc(n,h,j,P,q,B,U){var L;if(B+=1,"object"==typeof n&&null!==n){for(L=0;L<P.length;L++)if(P[L]===n)return void setReplace("[Circular]",n,h,q);if(void 0!==U.depthLimit&&B>U.depthLimit||void 0!==U.edgesLimit&&j+1>U.edgesLimit)return void setReplace("[...]",n,h,q);if(P.push(n),Array.isArray(n))for(L=0;L<n.length;L++)decirc(n[L],L,L,P,n,B,U);else{var H=Object.keys(n);for(L=0;L<H.length;L++){var W=H[L];decirc(n[W],W,L,P,n,B,U)}}P.pop()}}(n,"",0,[],void 0,0,P);try{q=0===ev.length?JSON.stringify(n,h,j):JSON.stringify(n,replaceGetterValues(h),j)}catch(n){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==eg.length;){var B=eg.pop();4===B.length?Object.defineProperty(B[0],B[1],B[3]):B[0][B[1]]=B[2]}}return q}function setReplace(n,h,j,P){var q=Object.getOwnPropertyDescriptor(P,j);void 0!==q.get?q.configurable?(Object.defineProperty(P,j,{value:n}),eg.push([P,j,h,q])):ev.push([h,j,n]):(P[j]=n,eg.push([P,j,h]))}function compareFunction(n,h){return n<h?-1:n>h?1:0}function deterministicStringify(n,h,j,P){void 0===P&&(P=defaultOptions());var q,B=function deterministicDecirc(n,h,j,P,q,B,U){var L;if(B+=1,"object"==typeof n&&null!==n){for(L=0;L<P.length;L++)if(P[L]===n)return void setReplace("[Circular]",n,h,q);try{if("function"==typeof n.toJSON)return}catch(n){return}if(void 0!==U.depthLimit&&B>U.depthLimit||void 0!==U.edgesLimit&&j+1>U.edgesLimit)return void setReplace("[...]",n,h,q);if(P.push(n),Array.isArray(n))for(L=0;L<n.length;L++)deterministicDecirc(n[L],L,L,P,n,B,U);else{var H={},W=Object.keys(n).sort(compareFunction);for(L=0;L<W.length;L++){var V=W[L];deterministicDecirc(n[V],V,L,P,n,B,U),H[V]=n[V]}if(void 0===q)return H;eg.push([q,h,n]),q[h]=H}P.pop()}}(n,"",0,[],void 0,0,P)||n;try{q=0===ev.length?JSON.stringify(B,h,j):JSON.stringify(B,replaceGetterValues(h),j)}catch(n){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==eg.length;){var U=eg.pop();4===U.length?Object.defineProperty(U[0],U[1],U[3]):U[0][U[1]]=U[2]}}return q}function replaceGetterValues(n){return n=void 0!==n?n:function(n,h){return h},function(h,j){if(ev.length>0)for(var P=0;P<ev.length;P++){var q=ev[P];if(q[1]===h&&q[0]===j){j=q[2],ev.splice(P,1);break}}return n.call(this,h,j)}}var eb=createCommonjsModule(function(n,h){function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function _createForOfIteratorHelper(n,h){var j="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!j){if(Array.isArray(n)||(j=function(n,h){if(n){if("string"==typeof n)return _arrayLikeToArray(n,h);var j=Object.prototype.toString.call(n).slice(8,-1);if("Object"===j&&n.constructor&&(j=n.constructor.name),"Map"===j||"Set"===j)return Array.from(n);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return _arrayLikeToArray(n,h)}}(n))||h&&n&&"number"==typeof n.length){j&&(n=j);var P=0,F=function(){};return{s:F,n:function(){return P>=n.length?{done:!0}:{done:!1,value:n[P++]}},e:function(n){throw n},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,B=!0,U=!1;return{s:function(){j=j.call(n)},n:function(){var n=j.next();return B=n.done,n},e:function(n){U=!0,q=n},f:function(){try{B||null==j.return||j.return()}finally{if(U)throw q}}}}function _arrayLikeToArray(n,h){(null==h||h>n.length)&&(h=n.length);for(var j=0,P=Array(h);j<h;j++)P[j]=n[j];return P}h.type=function(n){return n.split(/ *; */).shift()},h.params=function(n){var h,j={},P=_createForOfIteratorHelper(n.split(/ *; */));try{for(P.s();!(h=P.n()).done;){var q=h.value.split(/ *= */),B=q.shift(),U=q.shift();B&&U&&(j[B]=U)}}catch(n){P.e(n)}finally{P.f()}return j},h.parseLinks=function(n){var h,j={},P=_createForOfIteratorHelper(n.split(/ *, */));try{for(P.s();!(h=P.n()).done;){var q=h.value.split(/ *; */),B=q[0].slice(1,-1);j[q[1].split(/ *= */)[1].slice(1,-1)]=B}}catch(n){P.e(n)}finally{P.f()}return j},h.cleanHeader=function(n,h){return delete n["content-type"],delete n["content-length"],delete n["transfer-encoding"],delete n.host,h&&(delete n.authorization,delete n.cookie),n},h.isObject=function(n){return null!==n&&"object"===_typeof(n)},h.hasOwn=Object.hasOwn||function(n,h){if(null==n)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(n),h)},h.mixin=function(n,j){for(var P in j)h.hasOwn(j,P)&&(n[P]=j[P])}});function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}eb.type,eb.params,eb.parseLinks,eb.cleanHeader,eb.isObject,eb.hasOwn,eb.mixin;var ew=eb.isObject,e_=eb.hasOwn;function RequestBase(){}RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},RequestBase.prototype.parse=function(n){return this._parser=n,this},RequestBase.prototype.responseType=function(n){return this._responseType=n,this},RequestBase.prototype.serialize=function(n){return this._serializer=n,this},RequestBase.prototype.timeout=function(n){if(!n||"object"!==_typeof(n))return this._timeout=n,this._responseTimeout=0,this._uploadTimeout=0,this;for(var h in n)if(e_(n,h))switch(h){case"deadline":this._timeout=n.deadline;break;case"response":this._responseTimeout=n.response;break;case"upload":this._uploadTimeout=n.upload;break;default:console.warn("Unknown timeout option",h)}return this},RequestBase.prototype.retry=function(n,h){return 0!=arguments.length&&!0!==n||(n=1),n<=0&&(n=0),this._maxRetries=n,this._retries=0,this._retryCallback=h,this};var eT=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),eO=new Set([408,413,429,500,502,503,504,521,522,524]);function ResponseBase(){}function _unsupportedIterableToArray(n,h){if(n){if("string"==typeof n)return _arrayLikeToArray(n,h);var j=Object.prototype.toString.call(n).slice(8,-1);return"Object"===j&&n.constructor&&(j=n.constructor.name),"Map"===j||"Set"===j?Array.from(n):"Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?_arrayLikeToArray(n,h):void 0}}function _arrayLikeToArray(n,h){(null==h||h>n.length)&&(h=n.length);for(var j=0,P=Array(h);j<h;j++)P[j]=n[j];return P}function Agent(){this._defaults=[]}RequestBase.prototype._shouldRetry=function(n,h){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var j=this._retryCallback(n,h);if(!0===j)return!0;if(!1===j)return!1}catch(n){console.error(n)}return!!(h&&h.status&&eO.has(h.status)||n&&(n.code&&eT.has(n.code)||n.timeout&&"ECONNABORTED"===n.code||n.crossDomain))},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},RequestBase.prototype.then=function(n,h){var j=this;if(!this._fullfilledPromise){var P=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(n,h){P.on("abort",function(){if(!(j._maxRetries&&j._maxRetries>j._retries)){if(j.timedout&&j.timedoutError)h(j.timedoutError);else{var n=Error("Aborted");n.code="ABORTED",n.status=j.status,n.method=j.method,n.url=j.url,h(n)}}}),P.end(function(j,P){j?h(j):n(P)})})}return this._fullfilledPromise.then(n,h)},RequestBase.prototype.catch=function(n){return this.then(void 0,n)},RequestBase.prototype.use=function(n){return n(this),this},RequestBase.prototype.ok=function(n){if("function"!=typeof n)throw Error("Callback required");return this._okCallback=n,this},RequestBase.prototype._isResponseOK=function(n){return!!n&&(this._okCallback?this._okCallback(n):n.status>=200&&n.status<300)},RequestBase.prototype.get=function(n){return this._header[n.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(n,h){if(ew(n)){for(var j in n)e_(n,j)&&this.set(j,n[j]);return this}return this._header[n.toLowerCase()]=h,this.header[n]=h,this},RequestBase.prototype.unset=function(n){return delete this._header[n.toLowerCase()],delete this.header[n],this},RequestBase.prototype.field=function(n,h,j){if(null==n)throw Error(".field(name, val) name can not be empty");if(this._data)throw Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(ew(n)){for(var P in n)e_(n,P)&&this.field(P,n[P]);return this}if(Array.isArray(h)){for(var q in h)e_(h,q)&&this.field(n,h[q]);return this}if(null==h)throw Error(".field(name, val) val can not be empty");return"boolean"==typeof h&&(h=String(h)),j?this._getFormData().append(n,h,j):this._getFormData().append(n,h),this},RequestBase.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(tm.gte(q.version,"v13.0.0")&&tm.lt(q.version,"v14.0.0"))throw Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");tm.gte(q.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},RequestBase.prototype._auth=function(n,h,j,P){switch(j.type){case"basic":this.set("Authorization","Basic ".concat(P("".concat(n,":").concat(h))));break;case"auto":this.username=n,this.password=h;break;case"bearer":this.set("Authorization","Bearer ".concat(n))}return this},RequestBase.prototype.withCredentials=function(n){return void 0===n&&(n=!0),this._withCredentials=n,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.maxResponseSize=function(n){if("number"!=typeof n)throw TypeError("Invalid argument");return this._maxResponseSize=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(n){var h=ew(n),j=this._header["content-type"];if(this._formData)throw Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(h&&!this._data)Array.isArray(n)?this._data=[]:this._isHost(n)||(this._data={});else if(n&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(h&&ew(this._data))for(var P in n)e_(n,P)&&(this._data[P]=n[P]);else"string"==typeof n?(j||this.type("form"),(j=this._header["content-type"])&&(j=j.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===j?this._data?"".concat(this._data,"&").concat(n):n:(this._data||"")+n):this._data=n;return!h||this._isHost(n)||j||this.type("json"),this},RequestBase.prototype.sortQuery=function(n){return this._sort=void 0===n||n,this},RequestBase.prototype._finalizeQueryString=function(){var n=this._query.join("&");if(n&&(this.url+=(this.url.includes("?")?"&":"?")+n),this._query.length=0,this._sort){var h=this.url.indexOf("?");if(h>=0){var j=this.url.slice(h+1).split("&");"function"==typeof this._sort?j.sort(this._sort):j.sort(),this.url=this.url.slice(0,h)+"?"+j.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.warn("Unsupported")},RequestBase.prototype._timeoutError=function(n,h,j){if(!this._aborted){var P=Error("".concat(n+h,"ms exceeded"));P.timeout=h,P.code="ECONNABORTED",P.errno=j,this.timedout=!0,this.timedoutError=P,this.abort(),this.callback(P)}},RequestBase.prototype._setTimeouts=function(){var n=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){n._timeoutError("Timeout of ",n._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){n._timeoutError("Response timeout of ",n._responseTimeout,"ETIMEDOUT")},this._responseTimeout))},ResponseBase.prototype.get=function(n){return this.header[n.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(n){var h=n["content-type"]||"";this.type=eb.type(h);var j=eb.params(h);for(var P in j)Object.prototype.hasOwnProperty.call(j,P)&&(this[P]=j[P]);this.links={};try{n.link&&(this.links=eb.parseLinks(n.link))}catch(n){}},ResponseBase.prototype._setStatusProperties=function(n){var h=Math.trunc(n/100);this.statusCode=n,this.status=this.statusCode,this.statusType=h,this.info=1===h,this.ok=2===h,this.redirect=3===h,this.clientError=4===h,this.serverError=5===h,this.error=(4===h||5===h)&&this.toError(),this.created=201===n,this.accepted=202===n,this.noContent=204===n,this.badRequest=400===n,this.unauthorized=401===n,this.notAcceptable=406===n,this.forbidden=403===n,this.notFound=404===n,this.unprocessableEntity=422===n};for(var ek=0,eS=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];ek<eS.length;ek++)!function(){var n=eS[ek];Agent.prototype[n]=function(){for(var h=arguments.length,j=Array(h),P=0;P<h;P++)j[P]=arguments[P];return this._defaults.push({fn:n,args:j}),this}}();Agent.prototype._setDefaults=function(n){var h,j=function(n,h){var j="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!j){if(Array.isArray(n)||(j=_unsupportedIterableToArray(n))){j&&(n=j);var P=0,F=function(){};return{s:F,n:function(){return P>=n.length?{done:!0}:{done:!1,value:n[P++]}},e:function(n){throw n},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,B=!0,U=!1;return{s:function(){j=j.call(n)},n:function(){var n=j.next();return B=n.done,n},e:function(n){U=!0,q=n},f:function(){try{B||null==j.return||j.return()}finally{if(U)throw q}}}}(this._defaults);try{for(j.s();!(h=j.n()).done;){var P,q=h.value;n[q.fn].apply(n,(P=q.args,function(n){if(Array.isArray(n))return _arrayLikeToArray(n)}(P)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(P)||_unsupportedIterableToArray(P)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}}catch(n){j.e(n)}finally{j.f()}};for(var eA=createCommonjsModule(function(n,h){function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function _arrayLikeToArray(n,h){(null==h||h>n.length)&&(h=n.length);for(var j=0,P=Array(h);j<h;j++)P[j]=n[j];return P}"undefined"!=typeof window?j=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),j=void 0):j=self;var j,P=eb.isObject,q=eb.mixin,B=eb.hasOwn;function noop(){}n.exports=function(n,j){return"function"==typeof j?new h.Request("GET",n).end(j):1==arguments.length?new h.Request("GET",n):new h.Request(n,j)};var U=h=n.exports;h.Request=Request,U.getXHR=function(){if(j.XMLHttpRequest&&(!j.location||"file:"!==j.location.protocol||!j.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("Browser-only version of superagent could not find XHR")};var L="".trim?function(n){return n.trim()}:function(n){return n.replace(/(^\s*|\s*$)/g,"")};function serialize(n){if(!P(n))return n;var h=[];for(var j in n)B(n,j)&&function pushEncodedKeyValuePair(n,h,j){if(void 0!==j){if(null!==j){if(Array.isArray(j)){var q,U=function(n,h){var j="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!j){if(Array.isArray(n)||(j=function(n,h){if(n){if("string"==typeof n)return _arrayLikeToArray(n,h);var j=Object.prototype.toString.call(n).slice(8,-1);if("Object"===j&&n.constructor&&(j=n.constructor.name),"Map"===j||"Set"===j)return Array.from(n);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return _arrayLikeToArray(n,h)}}(n))){j&&(n=j);var P=0,F=function(){};return{s:F,n:function(){return P>=n.length?{done:!0}:{done:!1,value:n[P++]}},e:function(n){throw n},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,B=!0,U=!1;return{s:function(){j=j.call(n)},n:function(){var n=j.next();return B=n.done,n},e:function(n){U=!0,q=n},f:function(){try{B||null==j.return||j.return()}finally{if(U)throw q}}}}(j);try{for(U.s();!(q=U.n()).done;)pushEncodedKeyValuePair(n,h,q.value)}catch(n){U.e(n)}finally{U.f()}}else if(P(j))for(var L in j)B(j,L)&&pushEncodedKeyValuePair(n,"".concat(h,"[").concat(L,"]"),j[L]);else n.push(encodeURI(h)+"="+encodeURIComponent(j))}else n.push(encodeURI(h))}}(h,j,n[j]);return h.join("&")}function parseString(n){for(var h,j,P={},q=n.split("&"),B=0,U=q.length;B<U;++B)-1===(j=(h=q[B]).indexOf("="))?P[decodeURIComponent(h)]="":P[decodeURIComponent(h.slice(0,j))]=decodeURIComponent(h.slice(j+1));return P}function isJSON(n){return/[/+]json($|[^-\w])/i.test(n)}function Response(n){this.req=n,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var h=this.xhr.status;1223===h&&(h=204),this._setStatusProperties(h),this.headers=function(n){for(var h,j,P,q,B=n.split(/\r?\n/),U={},H=0,W=B.length;H<W;++H)-1!==(h=(j=B[H]).indexOf(":"))&&(P=j.slice(0,h).toLowerCase(),q=L(j.slice(h+1)),U[P]=q);return U}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&n._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function Request(n,h){var j=this;this._query=this._query||[],this.method=n,this.url=h,this.header={},this._header={},this.on("end",function(){var n,h=null,P=null;try{P=new Response(j)}catch(n){return(h=Error("Parser is unable to parse the response")).parse=!0,h.original=n,j.xhr?(h.rawResponse=void 0===j.xhr.responseType?j.xhr.responseText:j.xhr.response,h.status=j.xhr.status?j.xhr.status:null,h.statusCode=h.status):(h.rawResponse=null,h.status=null),j.callback(h)}j.emit("response",P);try{j._isResponseOK(P)||(n=Error(P.statusText||P.text||"Unsuccessful HTTP response"))}catch(h){n=h}n?(n.original=h,n.response=P,n.status=P.status,j.callback(n,P)):j.callback(null,P)})}U.serializeObject=serialize,U.parseString=parseString,U.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},U.serialize={"application/x-www-form-urlencoded":ey.stringify,"application/json":stringify$1},U.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},q(Response.prototype,ResponseBase.prototype),Response.prototype._parseBody=function(n){var h=U.parse[this.type];return this.req._parser?this.req._parser(this,n):(!h&&isJSON(this.type)&&(h=U.parse["application/json"]),h&&n&&(n.length>0||n instanceof Object)?h(n):null)},Response.prototype.toError=function(){var n=this.req,h=n.method,j=n.url,P=Error("cannot ".concat(h," ").concat(j," (").concat(this.status,")"));return P.status=this.status,P.method=h,P.url=j,P},U.Response=Response,em(Request.prototype),q(Request.prototype,RequestBase.prototype),Request.prototype.type=function(n){return this.set("Content-Type",U.types[n]||n),this},Request.prototype.accept=function(n){return this.set("Accept",U.types[n]||n),this},Request.prototype.auth=function(n,h,j){1==arguments.length&&(h=""),"object"===_typeof(h)&&null!==h&&(j=h,h=""),j||(j={type:"function"==typeof btoa?"basic":"auto"});var P=j.encoder?j.encoder:function(n){if("function"==typeof btoa)return btoa(n);throw Error("Cannot use basic auth, btoa is not a function")};return this._auth(n,h,j,P)},Request.prototype.query=function(n){return"string"!=typeof n&&(n=serialize(n)),n&&this._query.push(n),this},Request.prototype.attach=function(n,h,j){if(h){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(n,h,j||h.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new j.FormData),this._formData},Request.prototype.callback=function(n,h){if(this._shouldRetry(n,h))return this._retry();var j=this._callback;this.clearTimeout(),n&&(this._maxRetries&&(n.retries=this._retries-1),this.emit("error",n)),j(n,h)},Request.prototype.crossDomainError=function(){var n=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");n.crossDomain=!0,n.status=this.status,n.method=this.method,n.url=this.url,this.callback(n)},Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.ca=Request.prototype.agent,Request.prototype.buffer=Request.prototype.ca,Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype.pipe=Request.prototype.write,Request.prototype._isHost=function(n){return n&&"object"===_typeof(n)&&!Array.isArray(n)&&"[object Object]"!==Object.prototype.toString.call(n)},Request.prototype.end=function(n){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=n||noop,this._finalizeQueryString(),this._end()},Request.prototype._setUploadTimeout=function(){var n=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){n._timeoutError("Upload timeout of ",n._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},Request.prototype._end=function(){if(this._aborted)return this.callback(Error("The request has been aborted even before .end() was called"));var n=this;this.xhr=U.getXHR();var h=this.xhr,j=this._formData||this._data;this._setTimeouts(),h.addEventListener("readystatechange",function(){var j,P=h.readyState;if(P>=2&&n._responseTimeoutTimer&&clearTimeout(n._responseTimeoutTimer),4===P){try{j=h.status}catch(n){j=0}if(!j){if(n.timedout||n._aborted)return;return n.crossDomainError()}n.emit("end")}});var handleProgress=function(h,j){j.total>0&&(j.percent=j.loaded/j.total*100,100===j.percent&&clearTimeout(n._uploadTimeoutTimer)),j.direction=h,n.emit("progress",j)};if(this.hasListeners("progress"))try{h.addEventListener("progress",handleProgress.bind(null,"download")),h.upload&&h.upload.addEventListener("progress",handleProgress.bind(null,"upload"))}catch(n){}h.upload&&this._setUploadTimeout();try{this.username&&this.password?h.open(this.method,this.url,!0,this.username,this.password):h.open(this.method,this.url,!0)}catch(n){return this.callback(n)}if(this._withCredentials&&(h.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof j&&!this._isHost(j)){var P=this._header["content-type"],q=this._serializer||U.serialize[P?P.split(";")[0]:""];!q&&isJSON(P)&&(q=U.serialize["application/json"]),q&&(j=q(j))}for(var L in this.header)null!==this.header[L]&&B(this.header,L)&&h.setRequestHeader(L,this.header[L]);this._responseType&&(h.responseType=this._responseType),this.emit("request",this),h.send(void 0===j?null:j)},U.agent=function(){return new Agent};for(var H=0,W=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];H<W.length;H++)!function(){var n=W[H];Agent.prototype[n.toLowerCase()]=function(h,j){var P=new U.Request(n,h);return this._setDefaults(P),j&&P.end(j),P}}();function del(n,h,j){var P=U("DELETE",n);return"function"==typeof h&&(j=h,h=null),h&&P.send(h),j&&P.end(j),P}Agent.prototype.del=Agent.prototype.delete,U.get=function(n,h,j){var P=U("GET",n);return"function"==typeof h&&(j=h,h=null),h&&P.query(h),j&&P.end(j),P},U.head=function(n,h,j){var P=U("HEAD",n);return"function"==typeof h&&(j=h,h=null),h&&P.query(h),j&&P.end(j),P},U.options=function(n,h,j){var P=U("OPTIONS",n);return"function"==typeof h&&(j=h,h=null),h&&P.send(h),j&&P.end(j),P},U.del=del,U.delete=del,U.patch=function(n,h,j){var P=U("PATCH",n);return"function"==typeof h&&(j=h,h=null),h&&P.send(h),j&&P.end(j),P},U.post=function(n,h,j){var P=U("POST",n);return"function"==typeof h&&(j=h,h=null),h&&P.send(h),j&&P.end(j),P},U.put=function(n,h,j){var P=U("PUT",n);return"function"==typeof h&&(j=h,h=null),h&&P.send(h),j&&P.end(j),P}}),eC=(eA.Request,function(n){var h=getLens(n),j=h[0],P=h[1];return 3*(j+P)/4-P}),eE=[],ex=[],ej="undefined"!=typeof Uint8Array?Uint8Array:Array,eR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eD=0,eP=eR.length;eD<eP;++eD)eE[eD]=eR[eD],ex[eR.charCodeAt(eD)]=eD;function getLens(n){var h=n.length;if(h%4>0)throw Error("Invalid string. Length must be a multiple of 4");var j=n.indexOf("=");return -1===j&&(j=h),[j,j===h?0:4-j%4]}ex["-".charCodeAt(0)]=62,ex["_".charCodeAt(0)]=63;var eI={byteLength:eC,toByteArray:function(n){var h,j,P=getLens(n),q=P[0],B=P[1],U=new ej(3*(q+B)/4-B),L=0,H=B>0?q-4:q;for(j=0;j<H;j+=4)h=ex[n.charCodeAt(j)]<<18|ex[n.charCodeAt(j+1)]<<12|ex[n.charCodeAt(j+2)]<<6|ex[n.charCodeAt(j+3)],U[L++]=h>>16&255,U[L++]=h>>8&255,U[L++]=255&h;return 2===B&&(h=ex[n.charCodeAt(j)]<<2|ex[n.charCodeAt(j+1)]>>4,U[L++]=255&h),1===B&&(h=ex[n.charCodeAt(j)]<<10|ex[n.charCodeAt(j+1)]<<4|ex[n.charCodeAt(j+2)]>>2,U[L++]=h>>8&255,U[L++]=255&h),U},fromByteArray:function(n){for(var h,j=n.length,P=j%3,q=[],B=0,U=j-P;B<U;B+=16383)q.push(function(n,h,j){for(var P,q=[],B=h;B<j;B+=3)q.push(eE[(P=(n[B]<<16&16711680)+(n[B+1]<<8&65280)+(255&n[B+2]))>>18&63]+eE[P>>12&63]+eE[P>>6&63]+eE[63&P]);return q.join("")}(n,B,B+16383>U?U:B+16383));return 1===P?q.push(eE[(h=n[j-1])>>2]+eE[h<<4&63]+"=="):2===P&&q.push(eE[(h=(n[j-2]<<8)+n[j-1])>>10]+eE[h>>4&63]+eE[h<<2&63]+"="),q.join("")}},eq={raw:"9.24.1"},eM=Object.prototype.toString;function attribute(n,h,j,P){if(j="array"===j?"object":j,n&&typeof n[h]!==j)throw Error(P)}function variable(n,h,j){if(typeof n!==h)throw Error(j)}function value(n,h,j){if(-1===h.indexOf(n))throw Error(j)}var eB={check:function(n,h,j){if(h.optional&&!n||variable(n,h.type,h.message),"object"===h.type&&j)for(var P=Object.keys(j),q=0;q<P.length;q++){var B=P[q];j[B].optional&&!n[B]||j[B].condition&&!j[B].condition(n)||(attribute(n,B,j[B].type,j[B].message),j[B].values&&value(n[B],j[B].values,j[B].value_message))}},attribute:attribute,variable:variable,value:value,isArray:function(n){return this.supportsIsArray()?Array.isArray(n):"[object Array]"===eM.call(n)},supportsIsArray:function(){return null!=Array.isArray}};function objectAssignPolyfill(n){if(null==n)throw TypeError("Cannot convert first argument to object");for(var h=Object(n),j=1;j<arguments.length;j++){var P=arguments[j];if(null!=P)for(var q=Object.keys(Object(P)),B=0,U=q.length;B<U;B++){var L=q[B],H=Object.getOwnPropertyDescriptor(P,L);void 0!==H&&H.enumerable&&(h[L]=P[L])}}return h}var eU={get:function(){return Object.assign?Object.assign:objectAssignPolyfill},objectAssignPolyfill:objectAssignPolyfill};function pick(n,h){return h.reduce(function(h,j){return n[j]&&(h[j]=n[j]),h},{})}function extend(){var n=function(n){var h=[];for(var j in n)h.push(n[j]);return h}(arguments);return n.unshift({}),eU.get().apply(void 0,n)}function getLocationFromUrl(n){var h=n.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return h&&{href:n,protocol:h[1],host:h[2],hostname:h[3],port:h[4],pathname:h[5],search:h[6],hash:h[7]}}function trim(n,h){var j=extend(n);return n[h]&&(j[h]=n[h].trim()),j}var eL={toSnakeCase:function toSnakeCase(n,h){return"object"!=typeof n||eB.isArray(n)||null===n?n:(h=h||[],Object.keys(n).reduce(function(j,P){return j[-1===h.indexOf(P)?function(n){for(var h,j="",P=0,q=!0,B=!0;P<n.length;)h=n.charCodeAt(P),!B&&h>=65&&h<=90||!q&&h>=48&&h<=57?j+="_"+n[P].toLowerCase():j+=n[P].toLowerCase(),q=h>=48&&h<=57,B=h>=65&&h<=90,P++;return j}(P):P]=toSnakeCase(n[P]),j},{}))},toCamelCase:function toCamelCase(n,h,j){return"object"!=typeof n||eB.isArray(n)||null===n?n:(h=h||[],j=j||{},Object.keys(n).reduce(function(P,q){var B,U=-1===h.indexOf(q)?(B=q.split("_")).reduce(function(n,h){return n+h.charAt(0).toUpperCase()+h.slice(1)},B.shift()):q;return P[U]=toCamelCase(n[U]||n[q],[],j),j.keepOriginal&&(P[q]=toCamelCase(n[q],[],j)),P},{}))},blacklist:function(n,h){return Object.keys(n).reduce(function(j,P){return -1===h.indexOf(P)&&(j[P]=n[P]),j},{})},merge:function(n,h){return{base:h?pick(n,h):n,with:function(n,h){return n=h?pick(n,h):n,extend(this.base,n)}}},pick:pick,getKeysNotIn:function(n,h){var j=[];for(var P in n)-1===h.indexOf(P)&&j.push(P);return j},extend:extend,getOriginFromUrl:function(n){if(n){var h=getLocationFromUrl(n);if(!h)return null;var j=h.protocol+"//"+h.hostname;return h.port&&(j+=":"+h.port),j}},getLocationFromUrl:getLocationFromUrl,trimUserDetails:function(n){return["username","email","phoneNumber"].reduce(trim,n)},updatePropertyOn:function updatePropertyOn(n,h,j){"string"==typeof h&&(h=h.split("."));var P=h[0];n.hasOwnProperty(P)&&(1===h.length?n[P]=j:updatePropertyOn(n[P],h.slice(1),j))}};function RequestWrapper(n){this.request=n,this.method=n.method,this.url=n.url,this.body=n._data,this.headers=n._header}function RequestObj(n){this.request=n}function RequestBuilder(n){this._sendTelemetry=!1!==n._sendTelemetry||n._sendTelemetry,this._telemetryInfo=n._telemetryInfo||null,this._timesToRetryFailedRequests=n._timesToRetryFailedRequests,this.headers=n.headers||{},this._universalLoginPage=n.universalLoginPage}function getWindow(){return window}RequestWrapper.prototype.abort=function(){this.request.abort()},RequestWrapper.prototype.getMethod=function(){return this.method},RequestWrapper.prototype.getBody=function(){return this.body},RequestWrapper.prototype.getUrl=function(){return this.url},RequestWrapper.prototype.getHeaders=function(){return this.headers},RequestObj.prototype.set=function(n,h){return this.request=this.request.set(n,h),this},RequestObj.prototype.send=function(n){return this.request=this.request.send(eL.trimUserDetails(n)),this},RequestObj.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},RequestObj.prototype.end=function(n){return this.request.end(n),new RequestWrapper(this.request)},RequestBuilder.prototype.setCommonConfiguration=function(n,h){if(h=h||{},this._timesToRetryFailedRequests>0&&(n=n.retry(this._timesToRetryFailedRequests)),h.noHeaders)return n;var j=this.headers;n=n.set("Content-Type","application/json"),h.xRequestLanguage&&(n=n.set("X-Request-Language",h.xRequestLanguage));for(var P=Object.keys(this.headers),q=0;q<P.length;q++)n=n.set(P[q],j[P[q]]);return this._sendTelemetry&&(n=n.set("Auth0-Client",this.getTelemetryData())),n},RequestBuilder.prototype.getTelemetryData=function(){var n,h=this._universalLoginPage?"auth0.js-ulp":"auth0.js",j={name:h,version:eq.raw};return this._telemetryInfo&&((j=eL.extend({},this._telemetryInfo)).env=eL.extend({},this._telemetryInfo.env),j.env[h]=eq.raw),n=JSON.stringify(j),eI.fromByteArray(function(n){for(var h=Array(n.length),j=0;j<n.length;j++)h[j]=n.charCodeAt(j);return h}(n)).replace(/\+/g,"-").replace(/\//g,"_")},RequestBuilder.prototype.get=function(n,h){return new RequestObj(this.setCommonConfiguration(eA.get(n),h))},RequestBuilder.prototype.post=function(n,h){return new RequestObj(this.setCommonConfiguration(eA.post(n),h))},RequestBuilder.prototype.patch=function(n,h){return new RequestObj(this.setCommonConfiguration(eA.patch(n),h))};var eN={redirect:function(n){getWindow().location=n},getDocument:function(){return getWindow().document},getWindow:getWindow,getOrigin:function(){var n=getWindow().location,h=n.origin;return h||(h=eL.getOriginFromUrl(n.href)),h}};function DummyStorage(){}DummyStorage.prototype.getItem=function(){return null},DummyStorage.prototype.removeItem=function(){},DummyStorage.prototype.setItem=function(){};var eH=createCommonjsModule(function(n,h){n.exports=function(){function extend(){for(var n=0,h={};n<arguments.length;n++){var j=arguments[n];for(var P in j)h[P]=j[P]}return h}function decode(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(n){function api(){}function set(h,j,P){if("undefined"!=typeof document){"number"==typeof(P=extend({path:"/"},api.defaults,P)).expires&&(P.expires=new Date(1*new Date+864e5*P.expires)),P.expires=P.expires?P.expires.toUTCString():"";try{var q=JSON.stringify(j);/^[\{\[]/.test(q)&&(j=q)}catch(n){}j=n.write?n.write(j,h):encodeURIComponent(String(j)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var B="";for(var U in P)P[U]&&(B+="; "+U,!0!==P[U]&&(B+="="+P[U].split(";")[0]));return document.cookie=h+"="+j+B}}function get(h,j){if("undefined"!=typeof document){for(var P={},q=document.cookie?document.cookie.split("; "):[],B=0;B<q.length;B++){var U=q[B].split("="),L=U.slice(1).join("=");j||'"'!==L.charAt(0)||(L=L.slice(1,-1));try{var H=decode(U[0]);if(L=(n.read||n)(L,H)||decode(L),j)try{L=JSON.parse(L)}catch(n){}if(P[H]=L,h===H)break}catch(n){}}return h?P[h]:P}}return api.set=set,api.get=function(n){return get(n,!1)},api.getJSON=function(n){return get(n,!0)},api.remove=function(n,h){set(n,"",extend(h,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})}()});function buildCompatCookieKey(n){return"_"+n+"_compat"}function CookieStorage(n){this._options=n||{}}function Warn(n){this.disableWarnings=n.disableWarnings}function StorageHandler(n){if(this.warn=new Warn({}),this.storage=new CookieStorage(n),!0===n.__tryLocalStorageFirst)try{var h=eN.getWindow().localStorage;h&&(this.storage=h)}catch(n){this.warn.warning(n),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function Storage(n){this.handler=new StorageHandler(n)}function SSODataStorage(n){this.storage=new Storage(n)}function buildResponse(n,h){return{error:n,errorDescription:h}}CookieStorage.prototype.getItem=function(n){return eH.get(n)||eH.get(buildCompatCookieKey(n))},CookieStorage.prototype.removeItem=function(n){var h={};this._options.cookieDomain&&(h.domain=this._options.cookieDomain),eH.remove(n,h),eH.remove(buildCompatCookieKey(n),h)},CookieStorage.prototype.setItem=function(n,h,j){var P=eL.extend({expires:1},j);if("https:"===eN.getWindow().location.protocol&&(P.secure=!0,P.sameSite="none",this._options.legacySameSiteCookie)){var q=eL.blacklist(P,["sameSite"]);eH.set(buildCompatCookieKey(n),h,q)}this._options.cookieDomain&&(P.domain=this._options.cookieDomain),eH.set(n,h,P)},Warn.prototype.warning=function(n){this.disableWarnings||console.warn(n)},StorageHandler.prototype.failover=function(){this.storage instanceof DummyStorage?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof CookieStorage?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new DummyStorage):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new CookieStorage)},StorageHandler.prototype.getItem=function(n){try{return this.storage.getItem(n)}catch(h){return this.warn.warning(h),this.failover(),this.getItem(n)}},StorageHandler.prototype.removeItem=function(n){try{return this.storage.removeItem(n)}catch(h){return this.warn.warning(h),this.failover(),this.removeItem(n)}},StorageHandler.prototype.setItem=function(n,h,j){try{return this.storage.setItem(n,h,j)}catch(P){return this.warn.warning(P),this.failover(),this.setItem(n,h,j)}},Storage.prototype.getItem=function(n){var h=this.handler.getItem(n);try{return JSON.parse(h)}catch(n){return h}},Storage.prototype.removeItem=function(n){return this.handler.removeItem(n)},Storage.prototype.setItem=function(n,h,j){var P=JSON.stringify(h);return this.handler.setItem(n,P,j)},SSODataStorage.prototype.set=function(n,h){this.storage.setItem("auth0.ssodata",JSON.stringify({lastUsedConnection:n,lastUsedSub:h}))},SSODataStorage.prototype.get=function(){var n=this.storage.getItem("auth0.ssodata");if(n)return JSON.parse(n)};var eW={buildResponse:buildResponse,invalidToken:function(n){return buildResponse("invalid_token",n)}};function wrapCallback(n,h){return(h=h||{}).ignoreCasing=!!h.ignoreCasing&&h.ignoreCasing,function(j,P){var q;return j||P?(!j&&P.err&&(j=P.err,P=null),!j&&P.error&&(j=P,P=null),j?(q={original:j},eL.updatePropertyOn(q,"original.response.req._data.password","*****"),j.response&&j.response.statusCode&&(q.statusCode=j.response.statusCode),j.response&&j.response.statusText&&(q.statusText=j.response.statusText),j.response&&j.response.body&&(j=j.response.body),j.err&&(j=j.err),q.code=j.code||j.error||j.error_code||j.status||null,q.description=j.errorDescription||j.error_description||j.description||j.error||j.details||j.err||null,h.forceLegacyError&&(q.error=q.code,q.error_description=q.description),j.error_codes&&j.error_details&&(q.errorDetails={codes:j.error_codes,details:j.error_details}),j.name&&(q.name=j.name),j.policy&&(q.policy=j.policy),n(q)):P.type&&("text/html"===P.type||"text/plain"===P.type)?n(null,P.text):h.ignoreCasing?n(null,P.body||P):n(null,eL.toCamelCase(P.body||P,[],{keepOriginal:h.keepOriginalCasing}))):n(eW.buildResponse("generic_error","Something went wrong"))}}var eF=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],eV=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],ez={oauthTokenParams:function(n,h){return eL.pick(h,eF)},oauthAuthorizeParams:function(n,h){var j=eL.getKeysNotIn(h,eV);return j.length>0&&n.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+j.join(",")+"]"),h}},e$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==j.g?j.g:"undefined"!=typeof self?self:{};function e(n){var h={exports:{}};return n(h,h.exports),h.exports}var eJ=e(function(n,h){n.exports=function(){function e(n){return"function"==typeof n}var n=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)},h=0,j=void 0,P=void 0,s=function(n,j){V[h]=n,V[h+1]=j,2===(h+=2)&&(P?P(d):K())},B="undefined"!=typeof window?window:void 0,U=B||{},L=U.MutationObserver||U.WebKitMutationObserver,H="undefined"==typeof self&&void 0!==q&&"[object process]"===({}).toString.call(q),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var n=setTimeout;return function(){return n(d,1)}}var V=Array(1e3);function d(){for(var n=0;n<h;n+=2)(0,V[n])(V[n+1]),V[n]=void 0,V[n+1]=void 0;h=0}var z,$,J,G,K=void 0;function T(n,h){var j=this,P=new this.constructor(S);void 0===P[X]&&N(P);var q=j._state;if(q){var B=arguments[q-1];s(function(){return O(q,P,B,j._result)})}else C(j,P,n,h);return P}function b(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var h=new this(S);return E(h,n),h}K=H?function(){return q.nextTick(d)}:L?($=0,J=new L(d),G=document.createTextNode(""),J.observe(G,{characterData:!0}),function(){G.data=$=++$%2}):W?((z=new MessageChannel).port1.onmessage=d,function(){return z.port2.postMessage(0)}):void 0===B?function(){try{var n=Function("return this")().require("vertx");return void 0!==(j=n.runOnLoop||n.runOnContext)?function(){j(d)}:p()}catch(n){return p()}}():p();var X=Math.random().toString(36).substring(2);function S(){}var Q=void 0;function x(n,h,j){h.constructor===n.constructor&&j===T&&h.constructor.resolve===b?1===h._state?I(n,h._result):2===h._state?M(n,h._result):C(h,void 0,function(h){return E(n,h)},function(h){return M(n,h)}):void 0===j?I(n,h):e(j)?s(function(n){var P=!1,q=function(j,q,B,U){try{j.call(q,function(j){P||(P=!0,h!==j?E(n,j):I(n,j))},function(h){P||(P=!0,M(n,h))})}catch(n){return n}}(j,h);!P&&q&&(P=!0,M(n,q))},n):I(n,h)}function E(n,h){if(n===h)M(n,TypeError("You cannot resolve a promise with itself"));else if(j=typeof h,null===h||"object"!==j&&"function"!==j)I(n,h);else{var j,P=void 0;try{P=h.then}catch(h){return void M(n,h)}x(n,h,P)}}function k(n){n._onerror&&n._onerror(n._result),R(n)}function I(n,h){n._state===Q&&(n._result=h,n._state=1,0!==n._subscribers.length&&s(R,n))}function M(n,h){n._state===Q&&(n._state=2,n._result=h,s(k,n))}function C(n,h,j,P){var q=n._subscribers,B=q.length;n._onerror=null,q[B]=h,q[B+1]=j,q[B+2]=P,0===B&&n._state&&s(R,n)}function R(n){var h=n._subscribers,j=n._state;if(0!==h.length){for(var P=void 0,q=void 0,B=n._result,U=0;U<h.length;U+=3)q=h[U+j],(P=h[U])?O(j,P,q,B):q(B);n._subscribers.length=0}}function O(n,h,j,P){var q=e(j),B=void 0,U=void 0,L=!0;if(q){try{B=j(P)}catch(n){L=!1,U=n}if(h===B)return void M(h,TypeError("A promises callback cannot return that same promise."))}else B=P;h._state!==Q||(q&&L?E(h,B):!1===L?M(h,U):1===n?I(h,B):2===n&&M(h,B))}var Z=0;function N(n){n[X]=Z++,n._state=void 0,n._result=void 0,n._subscribers=[]}var Y=function(){function t(h,j){this._instanceConstructor=h,this.promise=new h(S),this.promise[X]||N(this.promise),n(j)?(this.length=j.length,this._remaining=j.length,this._result=Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(j),0===this._remaining&&I(this.promise,this._result))):M(this.promise,Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(n){for(var h=0;this._state===Q&&h<n.length;h++)this._eachEntry(n[h],h)},t.prototype._eachEntry=function(n,h){var j=this._instanceConstructor,P=j.resolve;if(P===b){var q=void 0,B=void 0,U=!1;try{q=n.then}catch(n){U=!0,B=n}if(q===T&&n._state!==Q)this._settledAt(n._state,h,n._result);else if("function"!=typeof q)this._remaining--,this._result[h]=n;else if(j===tt){var L=new j(S);U?M(L,B):x(L,n,q),this._willSettleAt(L,h)}else this._willSettleAt(new j(function(h){return h(n)}),h)}else this._willSettleAt(P(n),h)},t.prototype._settledAt=function(n,h,j){var P=this.promise;P._state===Q&&(this._remaining--,2===n?M(P,j):this._result[h]=j),0===this._remaining&&I(P,this._result)},t.prototype._willSettleAt=function(n,h){var j=this;C(n,void 0,function(n){return j._settledAt(1,h,n)},function(n){return j._settledAt(2,h,n)})},t}(),tt=function(){function t(n){this[X]=Z++,this._result=this._state=void 0,this._subscribers=[],S!==n&&("function"!=typeof n&&function(){throw TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(n,h){try{h(function(h){E(n,h)},function(h){M(n,h)})}catch(h){M(n,h)}}(this,n):function(){throw TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){var h=this.constructor;return e(n)?this.then(function(j){return h.resolve(n()).then(function(){return j})},function(j){return h.resolve(n()).then(function(){throw j})}):this.then(n,n)},t}();return tt.prototype.then=T,tt.all=function(n){return new Y(this,n).promise},tt.race=function(h){var j=this;return new j(n(h)?function(n,P){for(var q=h.length,B=0;B<q;B++)j.resolve(h[B]).then(n,P)}:function(n,h){return h(TypeError("You must pass an array to race."))})},tt.resolve=b,tt.reject=function(n){var h=new this(S);return M(h,n),h},tt._setScheduler=function(n){P=n},tt._setAsap=function(n){s=n},tt._asap=s,tt.polyfill=function(){var n=void 0;if(void 0!==e$)n=e$;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw Error("polyfill failed because global object is unavailable in this environment")}var h=n.Promise;if(h){var j=null;try{j=Object.prototype.toString.call(h.resolve())}catch(n){}if("[object Promise]"===j&&!h.cast)return}n.Promise=tt},tt.Promise=tt,tt}()}),eG={__proto__:null,default:{}},eK=e(function(n,h){var j;n.exports=j||function(n,h){if("undefined"!=typeof window&&window.crypto&&(j=window.crypto),"undefined"!=typeof self&&self.crypto&&(j=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(j=globalThis.crypto),!j&&"undefined"!=typeof window&&window.msCrypto&&(j=window.msCrypto),!j&&void 0!==e$&&e$.crypto&&(j=e$.crypto),!j)try{j=eG}catch(n){}var j,o=function(){if(j){if("function"==typeof j.getRandomValues)try{return j.getRandomValues(new Uint32Array(1))[0]}catch(n){}if("function"==typeof j.randomBytes)try{return j.randomBytes(4).readInt32LE()}catch(n){}}throw Error("Native crypto module could not be used to get secure random number.")},P=Object.create||function(){function t(){}return function(n){var h;return t.prototype=n,h=new t,t.prototype=null,h}}(),q={},B=q.lib={},U=B.Base={extend:function(n){var h=P(this);return n&&h.mixIn(n),h.hasOwnProperty("init")&&this.init!==h.init||(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var h in n)n.hasOwnProperty(h)&&(this[h]=n[h]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},L=B.WordArray=U.extend({init:function(n,h){n=this.words=n||[],this.sigBytes=null!=h?h:4*n.length},toString:function(n){return(n||W).stringify(this)},concat:function(n){var h=this.words,j=n.words,P=this.sigBytes,q=n.sigBytes;if(this.clamp(),P%4)for(var B=0;B<q;B++)h[P+B>>>2]|=(j[B>>>2]>>>24-B%4*8&255)<<24-(P+B)%4*8;else for(var U=0;U<q;U+=4)h[P+U>>>2]=j[U>>>2];return this.sigBytes+=q,this},clamp:function(){var h=this.words,j=this.sigBytes;h[j>>>2]&=4294967295<<32-j%4*8,h.length=n.ceil(j/4)},clone:function(){var n=U.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var h=[],j=0;j<n;j+=4)h.push(o());return new L.init(h,n)}}),H=q.enc={},W=H.Hex={stringify:function(n){for(var h=n.words,j=n.sigBytes,P=[],q=0;q<j;q++){var B=h[q>>>2]>>>24-q%4*8&255;P.push((B>>>4).toString(16)),P.push((15&B).toString(16))}return P.join("")},parse:function(n){for(var h=n.length,j=[],P=0;P<h;P+=2)j[P>>>3]|=parseInt(n.substr(P,2),16)<<24-P%8*4;return new L.init(j,h/2)}},V=H.Latin1={stringify:function(n){for(var h=n.words,j=n.sigBytes,P=[],q=0;q<j;q++)P.push(String.fromCharCode(h[q>>>2]>>>24-q%4*8&255));return P.join("")},parse:function(n){for(var h=n.length,j=[],P=0;P<h;P++)j[P>>>2]|=(255&n.charCodeAt(P))<<24-P%4*8;return new L.init(j,h)}},z=H.Utf8={stringify:function(n){try{return decodeURIComponent(escape(V.stringify(n)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function(n){return V.parse(unescape(encodeURIComponent(n)))}},$=B.BufferedBlockAlgorithm=U.extend({reset:function(){this._data=new L.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=z.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(h){var j,P=this._data,q=P.words,B=P.sigBytes,U=this.blockSize,H=B/(4*U),W=(H=h?n.ceil(H):n.max((0|H)-this._minBufferSize,0))*U,V=n.min(4*W,B);if(W){for(var z=0;z<W;z+=U)this._doProcessBlock(q,z);j=q.splice(0,W),P.sigBytes-=V}return new L.init(j,V)},clone:function(){var n=U.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0});B.Hasher=$.extend({cfg:U.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){$.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(h,j){return new n.init(j).finalize(h)}},_createHmacHelper:function(n){return function(h,j){return new J.HMAC.init(n,j).finalize(h)}}});var J=q.algo={};return q}(Math)}),eX=e(function(n,h){var j,P,q,B,U,L,H,W,V;n.exports=(j=Math,q=(P=eK.lib).WordArray,B=P.Hasher,U=eK.algo,L=[],H=[],function(){function r(n){return 4294967296*(n-(0|n))|0}for(var n=2,h=0;h<64;)(function(n){for(var h=j.sqrt(n),P=2;P<=h;P++)if(!(n%P))return!1;return!0})(n)&&(h<8&&(L[h]=r(j.pow(n,.5))),H[h]=r(j.pow(n,1/3)),h++),n++}(),W=[],V=U.SHA256=B.extend({_doReset:function(){this._hash=new q.init(L.slice(0))},_doProcessBlock:function(n,h){for(var j=this._hash.words,P=j[0],q=j[1],B=j[2],U=j[3],L=j[4],V=j[5],z=j[6],$=j[7],J=0;J<64;J++){if(J<16)W[J]=0|n[h+J];else{var G=W[J-15],K=W[J-2];W[J]=((G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3)+W[J-7]+((K<<15|K>>>17)^(K<<13|K>>>19)^K>>>10)+W[J-16]}var X=P&q^P&B^q&B,Q=$+((L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25))+(L&V^~L&z)+H[J]+W[J];$=z,z=V,V=L,L=U+Q|0,U=B,B=q,q=P,P=Q+(((P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22))+X)|0}j[0]=j[0]+P|0,j[1]=j[1]+q|0,j[2]=j[2]+B|0,j[3]=j[3]+U|0,j[4]=j[4]+L|0,j[5]=j[5]+V|0,j[6]=j[6]+z|0,j[7]=j[7]+$|0},_doFinalize:function(){var n=this._data,h=n.words,P=8*this._nDataBytes,q=8*n.sigBytes;return h[q>>>5]|=128<<24-q%32,h[14+(q+64>>>9<<4)]=j.floor(P/4294967296),h[15+(q+64>>>9<<4)]=P,n.sigBytes=4*h.length,this._process(),this._hash},clone:function(){var n=B.clone.call(this);return n._hash=this._hash.clone(),n}}),eK.SHA256=B._createHelper(V),eK.HmacSHA256=B._createHmacHelper(V),eK.SHA256)}),eQ=e(function(n,h){var j;n.exports=(j=eK.lib.WordArray,eK.enc.Base64={stringify:function(n){var h=n.words,j=n.sigBytes,P=this._map;n.clamp();for(var q=[],B=0;B<j;B+=3)for(var U=(h[B>>>2]>>>24-B%4*8&255)<<16|(h[B+1>>>2]>>>24-(B+1)%4*8&255)<<8|h[B+2>>>2]>>>24-(B+2)%4*8&255,L=0;L<4&&B+.75*L<j;L++)q.push(P.charAt(U>>>6*(3-L)&63));var H=P.charAt(64);if(H)for(;q.length%4;)q.push(H);return q.join("")},parse:function(n){var h=n.length,P=this._map,q=this._reverseMap;if(!q){q=this._reverseMap=[];for(var B=0;B<P.length;B++)q[P.charCodeAt(B)]=B}var U=P.charAt(64);if(U){var L=n.indexOf(U);-1!==L&&(h=L)}return function(n,h,P){for(var q=[],B=0,U=0;U<h;U++)if(U%4){var L=P[n.charCodeAt(U-1)]<<U%4*2,H=P[n.charCodeAt(U)]>>>6-U%4*2;q[B>>>2]|=(L|H)<<24-B%4*8,B++}return j.create(q,B)}(n,h,q)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},eK.enc.Base64)}),eZ=e(function(n,h){n.exports=eK.enc.Hex}),eY=e(function(n,h){(function(){function r(n,h,j){null!=n&&("number"==typeof n?this.fromNumber(n,h,j):this.fromString(n,null==h&&"string"!=typeof n?256:h))}function i(){return new r(null)}var h,j="undefined"!=typeof navigator;j&&"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=function(n,h,j,P,q,B){for(var U=32767&h,L=h>>15;--B>=0;){var H=32767&this[n],W=this[n++]>>15,V=L*H+W*U;q=((H=U*H+((32767&V)<<15)+j[P]+(1073741823&q))>>>30)+(V>>>15)+L*W+(q>>>30),j[P++]=1073741823&H}return q},P=30):j&&"Netscape"!=navigator.appName?(r.prototype.am=function(n,h,j,P,q,B){for(;--B>=0;){var U=h*this[n++]+j[P]+q;q=Math.floor(U/67108864),j[P++]=67108863&U}return q},P=26):(r.prototype.am=function(n,h,j,P,q,B){for(var U=16383&h,L=h>>14;--B>=0;){var H=16383&this[n],W=this[n++]>>14,V=L*H+W*U;q=((H=U*H+((16383&V)<<14)+j[P]+q)>>28)+(V>>14)+L*W,j[P++]=268435455&H}return q},P=28),r.prototype.DB=P,r.prototype.DM=(1<<P)-1,r.prototype.DV=1<<P,r.prototype.FV=4503599627370496,r.prototype.F1=52-P,r.prototype.F2=2*P-52;var P,q,B,U=[];for(q=48,B=0;B<=9;++B)U[q++]=B;for(q=97,B=10;B<36;++B)U[q++]=B;for(q=65,B=10;B<36;++B)U[q++]=B;function u(n){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(n)}function a(n,h){var j=U[n.charCodeAt(h)];return null==j?-1:j}function f(n){var h=i();return h.fromInt(n),h}function c(n){var h,j=1;return 0!=(h=n>>>16)&&(n=h,j+=16),0!=(h=n>>8)&&(n=h,j+=8),0!=(h=n>>4)&&(n=h,j+=4),0!=(h=n>>2)&&(n=h,j+=2),0!=(h=n>>1)&&(n=h,j+=1),j}function p(n){this.m=n}function l(n){this.m=n,this.mp=n.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function d(n,h){return n&h}function m(n,h){return n|h}function v(n,h){return n^h}function y(n,h){return n&~h}function T(){}function b(n){return n}function _(n){this.r2=i(),this.q3=i(),r.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}p.prototype.convert=function(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n},p.prototype.revert=function(n){return n},p.prototype.reduce=function(n){n.divRemTo(this.m,null,n)},p.prototype.mulTo=function(n,h,j){n.multiplyTo(h,j),this.reduce(j)},p.prototype.sqrTo=function(n,h){n.squareTo(h),this.reduce(h)},l.prototype.convert=function(n){var h=i();return n.abs().dlShiftTo(this.m.t,h),h.divRemTo(this.m,null,h),n.s<0&&h.compareTo(r.ZERO)>0&&this.m.subTo(h,h),h},l.prototype.revert=function(n){var h=i();return n.copyTo(h),this.reduce(h),h},l.prototype.reduce=function(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var h=0;h<this.m.t;++h){var j=32767&n[h],P=j*this.mpl+((j*this.mph+(n[h]>>15)*this.mpl&this.um)<<15)&n.DM;for(n[j=h+this.m.t]+=this.m.am(0,P,n,h,0,this.m.t);n[j]>=n.DV;)n[j]-=n.DV,n[++j]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)},l.prototype.mulTo=function(n,h,j){n.multiplyTo(h,j),this.reduce(j)},l.prototype.sqrTo=function(n,h){n.squareTo(h),this.reduce(h)},r.prototype.copyTo=function(n){for(var h=this.t-1;h>=0;--h)n[h]=this[h];n.t=this.t,n.s=this.s},r.prototype.fromInt=function(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0},r.prototype.fromString=function(n,h){var j;if(16==h)j=4;else if(8==h)j=3;else if(256==h)j=8;else if(2==h)j=1;else if(32==h)j=5;else{if(4!=h)return void this.fromRadix(n,h);j=2}this.t=0,this.s=0;for(var P=n.length,q=!1,B=0;--P>=0;){var U=8==j?255&n[P]:a(n,P);U<0?"-"==n.charAt(P)&&(q=!0):(q=!1,0==B?this[this.t++]=U:B+j>this.DB?(this[this.t-1]|=(U&(1<<this.DB-B)-1)<<B,this[this.t++]=U>>this.DB-B):this[this.t-1]|=U<<B,(B+=j)>=this.DB&&(B-=this.DB))}8==j&&0!=(128&n[0])&&(this.s=-1,B>0&&(this[this.t-1]|=(1<<this.DB-B)-1<<B)),this.clamp(),q&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t},r.prototype.dlShiftTo=function(n,h){var j;for(j=this.t-1;j>=0;--j)h[j+n]=this[j];for(j=n-1;j>=0;--j)h[j]=0;h.t=this.t+n,h.s=this.s},r.prototype.drShiftTo=function(n,h){for(var j=n;j<this.t;++j)h[j-n]=this[j];h.t=Math.max(this.t-n,0),h.s=this.s},r.prototype.lShiftTo=function(n,h){var j,P=n%this.DB,q=this.DB-P,B=(1<<q)-1,U=Math.floor(n/this.DB),L=this.s<<P&this.DM;for(j=this.t-1;j>=0;--j)h[j+U+1]=this[j]>>q|L,L=(this[j]&B)<<P;for(j=U-1;j>=0;--j)h[j]=0;h[U]=L,h.t=this.t+U+1,h.s=this.s,h.clamp()},r.prototype.rShiftTo=function(n,h){h.s=this.s;var j=Math.floor(n/this.DB);if(j>=this.t)h.t=0;else{var P=n%this.DB,q=this.DB-P,B=(1<<P)-1;h[0]=this[j]>>P;for(var U=j+1;U<this.t;++U)h[U-j-1]|=(this[U]&B)<<q,h[U-j]=this[U]>>P;P>0&&(h[this.t-j-1]|=(this.s&B)<<q),h.t=this.t-j,h.clamp()}},r.prototype.subTo=function(n,h){for(var j=0,P=0,q=Math.min(n.t,this.t);j<q;)P+=this[j]-n[j],h[j++]=P&this.DM,P>>=this.DB;if(n.t<this.t){for(P-=n.s;j<this.t;)P+=this[j],h[j++]=P&this.DM,P>>=this.DB;P+=this.s}else{for(P+=this.s;j<n.t;)P-=n[j],h[j++]=P&this.DM,P>>=this.DB;P-=n.s}h.s=P<0?-1:0,P<-1?h[j++]=this.DV+P:P>0&&(h[j++]=P),h.t=j,h.clamp()},r.prototype.multiplyTo=function(n,h){var j=this.abs(),P=n.abs(),q=j.t;for(h.t=q+P.t;--q>=0;)h[q]=0;for(q=0;q<P.t;++q)h[q+j.t]=j.am(0,P[q],h,q,0,j.t);h.s=0,h.clamp(),this.s!=n.s&&r.ZERO.subTo(h,h)},r.prototype.squareTo=function(n){for(var h=this.abs(),j=n.t=2*h.t;--j>=0;)n[j]=0;for(j=0;j<h.t-1;++j){var P=h.am(j,h[j],n,2*j,0,1);(n[j+h.t]+=h.am(j+1,2*h[j],n,2*j+1,P,h.t-j-1))>=h.DV&&(n[j+h.t]-=h.DV,n[j+h.t+1]=1)}n.t>0&&(n[n.t-1]+=h.am(j,h[j],n,2*j,0,1)),n.s=0,n.clamp()},r.prototype.divRemTo=function(n,h,j){var P=n.abs();if(!(P.t<=0)){var q=this.abs();if(q.t<P.t)return null!=h&&h.fromInt(0),void(null!=j&&this.copyTo(j));null==j&&(j=i());var B=i(),U=this.s,L=n.s,H=this.DB-c(P[P.t-1]);H>0?(P.lShiftTo(H,B),q.lShiftTo(H,j)):(P.copyTo(B),q.copyTo(j));var W=B.t,V=B[W-1];if(0!=V){var z=V*(1<<this.F1)+(W>1?B[W-2]>>this.F2:0),$=this.FV/z,J=(1<<this.F1)/z,G=1<<this.F2,K=j.t,X=K-W,Q=null==h?i():h;for(B.dlShiftTo(X,Q),j.compareTo(Q)>=0&&(j[j.t++]=1,j.subTo(Q,j)),r.ONE.dlShiftTo(W,Q),Q.subTo(B,B);B.t<W;)B[B.t++]=0;for(;--X>=0;){var Z=j[--K]==V?this.DM:Math.floor(j[K]*$+(j[K-1]+G)*J);if((j[K]+=B.am(0,Z,j,X,0,W))<Z)for(B.dlShiftTo(X,Q),j.subTo(Q,j);j[K]<--Z;)j.subTo(Q,j)}null!=h&&(j.drShiftTo(W,h),U!=L&&r.ZERO.subTo(h,h)),j.t=W,j.clamp(),H>0&&j.rShiftTo(H,j),U<0&&r.ZERO.subTo(j,j)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var n=this[0];if(0==(1&n))return 0;var h=3&n;return(h=(h=(h=(h=h*(2-(15&n)*h)&15)*(2-(255&n)*h)&255)*(2-((65535&n)*h&65535))&65535)*(2-n*h%this.DV)%this.DV)>0?this.DV-h:-h},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(n,h){if(n>4294967295||n<1)return r.ONE;var j=i(),P=i(),q=h.convert(this),B=c(n)-1;for(q.copyTo(j);--B>=0;)if(h.sqrTo(j,P),(n&1<<B)>0)h.mulTo(P,q,j);else{var U=j;j=P,P=U}return h.revert(j)},r.prototype.toString=function(n){if(this.s<0)return"-"+this.negate().toString(n);if(16==n)h=4;else if(8==n)h=3;else if(2==n)h=1;else if(32==n)h=5;else{if(4!=n)return this.toRadix(n);h=2}var h,j,P=(1<<h)-1,q=!1,B="",U=this.t,L=this.DB-U*this.DB%h;if(U-- >0)for(L<this.DB&&(j=this[U]>>L)>0&&(q=!0,B=u(j));U>=0;)L<h?j=(this[U]&(1<<L)-1)<<h-L|this[--U]>>(L+=this.DB-h):(j=this[U]>>(L-=h)&P,L<=0&&(L+=this.DB,--U)),j>0&&(q=!0),q&&(B+=u(j));return q?B:"0"},r.prototype.negate=function(){var n=i();return r.ZERO.subTo(this,n),n},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(n){var h=this.s-n.s;if(0!=h)return h;var j=this.t;if(0!=(h=j-n.t))return this.s<0?-h:h;for(;--j>=0;)if(0!=(h=this[j]-n[j]))return h;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+c(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(n){var h=i();return this.abs().divRemTo(n,null,h),this.s<0&&h.compareTo(r.ZERO)>0&&n.subTo(h,h),h},r.prototype.modPowInt=function(n,h){var j;return j=n<256||h.isEven()?new p(h):new l(h),this.exp(n,j)},r.ZERO=f(0),r.ONE=f(1),T.prototype.convert=b,T.prototype.revert=b,T.prototype.mulTo=function(n,h,j){n.multiplyTo(h,j)},T.prototype.sqrTo=function(n,h){n.squareTo(h)},_.prototype.convert=function(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(0>n.compareTo(this.m))return n;var h=i();return n.copyTo(h),this.reduce(h),h},_.prototype.revert=function(n){return n},_.prototype.reduce=function(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>n.compareTo(this.r2);)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)},_.prototype.mulTo=function(n,h,j){n.multiplyTo(h,j),this.reduce(j)},_.prototype.sqrTo=function(n,h){n.squareTo(h),this.reduce(h)};var L,H,W,V=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],z=67108864/V[V.length-1];function E(){var n;n=(new Date).getTime(),H[W++]^=255&n,H[W++]^=n>>8&255,H[W++]^=n>>16&255,H[W++]^=n>>24&255,W>=G&&(W-=G)}if(r.prototype.chunkSize=function(n){return Math.floor(Math.LN2*this.DB/Math.log(n))},r.prototype.toRadix=function(n){if(null==n&&(n=10),0==this.signum()||n<2||n>36)return"0";var h=this.chunkSize(n),j=Math.pow(n,h),P=f(j),q=i(),B=i(),U="";for(this.divRemTo(P,q,B);q.signum()>0;)U=(j+B.intValue()).toString(n).substr(1)+U,q.divRemTo(P,q,B);return B.intValue().toString(n)+U},r.prototype.fromRadix=function(n,h){this.fromInt(0),null==h&&(h=10);for(var j=this.chunkSize(h),P=Math.pow(h,j),q=!1,B=0,U=0,L=0;L<n.length;++L){var H=a(n,L);H<0?"-"==n.charAt(L)&&0==this.signum()&&(q=!0):(U=h*U+H,++B>=j&&(this.dMultiply(P),this.dAddOffset(U,0),B=0,U=0))}B>0&&(this.dMultiply(Math.pow(h,B)),this.dAddOffset(U,0)),q&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(n,h,j){if("number"==typeof h){if(n<2)this.fromInt(1);else for(this.fromNumber(n,j),this.testBit(n-1)||this.bitwiseTo(r.ONE.shiftLeft(n-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(h);)this.dAddOffset(2,0),this.bitLength()>n&&this.subTo(r.ONE.shiftLeft(n-1),this)}else{var P=[],q=7&n;P.length=1+(n>>3),h.nextBytes(P),q>0?P[0]&=(1<<q)-1:P[0]=0,this.fromString(P,256)}},r.prototype.bitwiseTo=function(n,h,j){var P,q,B=Math.min(n.t,this.t);for(P=0;P<B;++P)j[P]=h(this[P],n[P]);if(n.t<this.t){for(q=n.s&this.DM,P=B;P<this.t;++P)j[P]=h(this[P],q);j.t=this.t}else{for(q=this.s&this.DM,P=B;P<n.t;++P)j[P]=h(q,n[P]);j.t=n.t}j.s=h(this.s,n.s),j.clamp()},r.prototype.changeBit=function(n,h){var j=r.ONE.shiftLeft(n);return this.bitwiseTo(j,h,j),j},r.prototype.addTo=function(n,h){for(var j=0,P=0,q=Math.min(n.t,this.t);j<q;)P+=this[j]+n[j],h[j++]=P&this.DM,P>>=this.DB;if(n.t<this.t){for(P+=n.s;j<this.t;)P+=this[j],h[j++]=P&this.DM,P>>=this.DB;P+=this.s}else{for(P+=this.s;j<n.t;)P+=n[j],h[j++]=P&this.DM,P>>=this.DB;P+=n.s}h.s=P<0?-1:0,P>0?h[j++]=P:P<-1&&(h[j++]=this.DV+P),h.t=j,h.clamp()},r.prototype.dMultiply=function(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(n,h){if(0!=n){for(;this.t<=h;)this[this.t++]=0;for(this[h]+=n;this[h]>=this.DV;)this[h]-=this.DV,++h>=this.t&&(this[this.t++]=0),++this[h]}},r.prototype.multiplyLowerTo=function(n,h,j){var P,q=Math.min(this.t+n.t,h);for(j.s=0,j.t=q;q>0;)j[--q]=0;for(P=j.t-this.t;q<P;++q)j[q+this.t]=this.am(0,n[q],j,q,0,this.t);for(P=Math.min(n.t,h);q<P;++q)this.am(0,n[q],j,q,0,h-q);j.clamp()},r.prototype.multiplyUpperTo=function(n,h,j){--h;var P=j.t=this.t+n.t-h;for(j.s=0;--P>=0;)j[P]=0;for(P=Math.max(h-this.t,0);P<n.t;++P)j[this.t+P-h]=this.am(h-P,n[P],j,0,0,this.t+P-h);j.clamp(),j.drShiftTo(1,j)},r.prototype.modInt=function(n){if(n<=0)return 0;var h=this.DV%n,j=this.s<0?n-1:0;if(this.t>0){if(0==h)j=this[0]%n;else for(var P=this.t-1;P>=0;--P)j=(h*j+this[P])%n}return j},r.prototype.millerRabin=function(n){var h=this.subtract(r.ONE),j=h.getLowestSetBit();if(j<=0)return!1;var P=h.shiftRight(j);(n=n+1>>1)>V.length&&(n=V.length);for(var q=i(),B=0;B<n;++B){q.fromInt(V[Math.floor(Math.random()*V.length)]);var U=q.modPow(P,this);if(0!=U.compareTo(r.ONE)&&0!=U.compareTo(h)){for(var L=1;L++<j&&0!=U.compareTo(h);)if(0==(U=U.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=U.compareTo(h))return!1}}return!0},r.prototype.clone=function(){var n=i();return this.copyTo(n),n},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return -1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var n=this.t,h=[];h[0]=this.s;var j,P=this.DB-n*this.DB%8,q=0;if(n-- >0)for(P<this.DB&&(j=this[n]>>P)!=(this.s&this.DM)>>P&&(h[q++]=j|this.s<<this.DB-P);n>=0;)P<8?j=(this[n]&(1<<P)-1)<<8-P|this[--n]>>(P+=this.DB-8):(j=this[n]>>(P-=8)&255,P<=0&&(P+=this.DB,--n)),0!=(128&j)&&(j|=-256),0==q&&(128&this.s)!=(128&j)&&++q,(q>0||j!=this.s)&&(h[q++]=j);return h},r.prototype.equals=function(n){return 0==this.compareTo(n)},r.prototype.min=function(n){return 0>this.compareTo(n)?this:n},r.prototype.max=function(n){return this.compareTo(n)>0?this:n},r.prototype.and=function(n){var h=i();return this.bitwiseTo(n,d,h),h},r.prototype.or=function(n){var h=i();return this.bitwiseTo(n,m,h),h},r.prototype.xor=function(n){var h=i();return this.bitwiseTo(n,v,h),h},r.prototype.andNot=function(n){var h=i();return this.bitwiseTo(n,y,h),h},r.prototype.not=function(){for(var n=i(),h=0;h<this.t;++h)n[h]=this.DM&~this[h];return n.t=this.t,n.s=~this.s,n},r.prototype.shiftLeft=function(n){var h=i();return n<0?this.rShiftTo(-n,h):this.lShiftTo(n,h),h},r.prototype.shiftRight=function(n){var h=i();return n<0?this.lShiftTo(-n,h):this.rShiftTo(n,h),h},r.prototype.getLowestSetBit=function(){for(var n=0;n<this.t;++n)if(0!=this[n])return n*this.DB+function(n){if(0==n)return -1;var h=0;return 0==(65535&n)&&(n>>=16,h+=16),0==(255&n)&&(n>>=8,h+=8),0==(15&n)&&(n>>=4,h+=4),0==(3&n)&&(n>>=2,h+=2),0==(1&n)&&++h,h}(this[n]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var n=0,h=this.s&this.DM,j=0;j<this.t;++j)n+=function(n){for(var h=0;0!=n;)n&=n-1,++h;return h}(this[j]^h);return n},r.prototype.testBit=function(n){var h=Math.floor(n/this.DB);return h>=this.t?0!=this.s:0!=(this[h]&1<<n%this.DB)},r.prototype.setBit=function(n){return this.changeBit(n,m)},r.prototype.clearBit=function(n){return this.changeBit(n,y)},r.prototype.flipBit=function(n){return this.changeBit(n,v)},r.prototype.add=function(n){var h=i();return this.addTo(n,h),h},r.prototype.subtract=function(n){var h=i();return this.subTo(n,h),h},r.prototype.multiply=function(n){var h=i();return this.multiplyTo(n,h),h},r.prototype.divide=function(n){var h=i();return this.divRemTo(n,h,null),h},r.prototype.remainder=function(n){var h=i();return this.divRemTo(n,null,h),h},r.prototype.divideAndRemainder=function(n){var h=i(),j=i();return this.divRemTo(n,h,j),[h,j]},r.prototype.modPow=function(n,h){var j,P,q=n.bitLength(),B=f(1);if(q<=0)return B;j=q<18?1:q<48?3:q<144?4:q<768?5:6,P=q<8?new p(h):h.isEven()?new _(h):new l(h);var U=[],L=3,H=j-1,W=(1<<j)-1;if(U[1]=P.convert(this),j>1){var V=i();for(P.sqrTo(U[1],V);L<=W;)U[L]=i(),P.mulTo(V,U[L-2],U[L]),L+=2}var z,$,J=n.t-1,G=!0,K=i();for(q=c(n[J])-1;J>=0;){for(q>=H?z=n[J]>>q-H&W:(z=(n[J]&(1<<q+1)-1)<<H-q,J>0&&(z|=n[J-1]>>this.DB+q-H)),L=j;0==(1&z);)z>>=1,--L;if((q-=L)<0&&(q+=this.DB,--J),G)U[z].copyTo(B),G=!1;else{for(;L>1;)P.sqrTo(B,K),P.sqrTo(K,B),L-=2;L>0?P.sqrTo(B,K):($=B,B=K,K=$),P.mulTo(K,U[z],B)}for(;J>=0&&0==(n[J]&1<<q);)P.sqrTo(B,K),$=B,B=K,K=$,--q<0&&(q=this.DB-1,--J)}return P.revert(B)},r.prototype.modInverse=function(n){var h=n.isEven();if(this.isEven()&&h||0==n.signum())return r.ZERO;for(var j=n.clone(),P=this.clone(),q=f(1),B=f(0),U=f(0),L=f(1);0!=j.signum();){for(;j.isEven();)j.rShiftTo(1,j),h?(q.isEven()&&B.isEven()||(q.addTo(this,q),B.subTo(n,B)),q.rShiftTo(1,q)):B.isEven()||B.subTo(n,B),B.rShiftTo(1,B);for(;P.isEven();)P.rShiftTo(1,P),h?(U.isEven()&&L.isEven()||(U.addTo(this,U),L.subTo(n,L)),U.rShiftTo(1,U)):L.isEven()||L.subTo(n,L),L.rShiftTo(1,L);j.compareTo(P)>=0?(j.subTo(P,j),h&&q.subTo(U,q),B.subTo(L,B)):(P.subTo(j,P),h&&U.subTo(q,U),L.subTo(B,L))}return 0!=P.compareTo(r.ONE)?r.ZERO:L.compareTo(n)>=0?L.subtract(n):0>L.signum()?(L.addTo(n,L),0>L.signum()?L.add(n):L):L},r.prototype.pow=function(n){return this.exp(n,new T)},r.prototype.gcd=function(n){var h=this.s<0?this.negate():this.clone(),j=n.s<0?n.negate():n.clone();if(0>h.compareTo(j)){var P=h;h=j,j=P}var q=h.getLowestSetBit(),B=j.getLowestSetBit();if(B<0)return h;for(q<B&&(B=q),B>0&&(h.rShiftTo(B,h),j.rShiftTo(B,j));h.signum()>0;)(q=h.getLowestSetBit())>0&&h.rShiftTo(q,h),(q=j.getLowestSetBit())>0&&j.rShiftTo(q,j),h.compareTo(j)>=0?(h.subTo(j,h),h.rShiftTo(1,h)):(j.subTo(h,j),j.rShiftTo(1,j));return B>0&&j.lShiftTo(B,j),j},r.prototype.isProbablePrime=function(n){var h,j=this.abs();if(1==j.t&&j[0]<=V[V.length-1]){for(h=0;h<V.length;++h)if(j[0]==V[h])return!0;return!1}if(j.isEven())return!1;for(h=1;h<V.length;){for(var P=V[h],q=h+1;q<V.length&&P<z;)P*=V[q++];for(P=j.modInt(P);h<q;)if(P%V[h++]==0)return!1}return j.millerRabin(n)},r.prototype.square=function(){var n=i();return this.squareTo(n),n},r.prototype.Barrett=_,null==H){if(H=[],W=0,"undefined"!=typeof window&&window.crypto){if(window.crypto.getRandomValues){var $=new Uint8Array(32);for(window.crypto.getRandomValues($),h=0;h<32;++h)H[W++]=$[h]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var J=window.crypto.random(32);for(h=0;h<J.length;++h)H[W++]=255&J.charCodeAt(h)}}for(;W<G;)h=Math.floor(65536*Math.random()),H[W++]=h>>>8,H[W++]=255&h;W=0,E()}function R(){}function O(){this.i=0,this.j=0,this.S=[]}R.prototype.nextBytes=function(n){var h;for(h=0;h<n.length;++h)n[h]=function(){if(null==L){for(E(),(L=new O).init(H),W=0;W<H.length;++W)H[W]=0;W=0}return L.next()}()},O.prototype.init=function(n){var h,j,P;for(h=0;h<256;++h)this.S[h]=h;for(j=0,h=0;h<256;++h)P=this.S[h],this.S[h]=this.S[j=j+this.S[h]+n[h%n.length]&255],this.S[j]=P;this.i=0,this.j=0},O.prototype.next=function(){var n;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,n=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=n,this.S[n+this.S[this.i]&255]};var G=256;n.exports={default:r,BigInteger:r,SecureRandom:R}}).call(e$)}),e0={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},e1={sha256:eX};function c(n,h){if(this.n=null,this.e=0,!(null!=n&&null!=h&&n.length>0&&h.length>0))throw Error("Invalid key data");this.n=new eY.BigInteger(n,16),this.e=parseInt(h,16)}c.prototype.verify=function(n,h){h=h.replace(/[^0-9a-f]|[\s\n]]/gi,"");var j=new eY.BigInteger(h,16);if(j.bitLength()>this.n.bitLength())throw Error("Signature does not match with the key modulus.");var P=function(n){for(var h in e0){var j=e0[h],P=j.length;if(n.substring(0,P)===j)return{alg:h,hash:n.substring(P)}}return[]}(j.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===P.length)return!1;if(!e1.hasOwnProperty(P.alg))throw Error("Hashing algorithm is not supported.");var q=e1[P.alg](n).toString();return P.hash===q};for(var e2=[],e3=[],e6="undefined"!=typeof Uint8Array?Uint8Array:Array,e5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e4=0;e4<64;++e4)e2[e4]=e5[e4],e3[e5.charCodeAt(e4)]=e4;e3["-".charCodeAt(0)]=62,e3["_".charCodeAt(0)]=63;var y=function(n){var h,j,P=function(n){var h=n.length;if(h%4>0)throw Error("Invalid string. Length must be a multiple of 4");var j=n.indexOf("=");return -1===j&&(j=h),[j,j===h?0:4-j%4]}(n),q=P[0],B=P[1],U=new e6(3*(q+B)/4-B),L=0,H=B>0?q-4:q;for(j=0;j<H;j+=4)h=e3[n.charCodeAt(j)]<<18|e3[n.charCodeAt(j+1)]<<12|e3[n.charCodeAt(j+2)]<<6|e3[n.charCodeAt(j+3)],U[L++]=h>>16&255,U[L++]=h>>8&255,U[L++]=255&h;return 2===B&&(h=e3[n.charCodeAt(j)]<<2|e3[n.charCodeAt(j+1)]>>4,U[L++]=255&h),1===B&&(h=e3[n.charCodeAt(j)]<<10|e3[n.charCodeAt(j+1)]<<4|e3[n.charCodeAt(j+2)]>>2,U[L++]=h>>8&255,U[L++]=255&h),U};function g(n){var h=n.length%4;return 0===h?n:n+Array(4-h+1).join("=")}function w(n){return decodeURIComponent((function(n){for(var h="",j=0;j<n.length;j++)h+=String.fromCharCode(n[j]);return h})(y(n=g(n).replace(/\-/g,"+").replace(/_/g,"/"))).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function T(n){return function(n){for(var h="",j=0;j<n.length;j++){var P=n[j].toString(16);h+=2===P.length?P:"0"+P}return h}(y(g(n)))}var e8=e(function(n){var h;h=function(){return function(){return function(n){var h=[];if(0===n.length)return"";if("string"!=typeof n[0])throw TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var j=n.shift();n[0]=j+n[0]}n[0]=n[0].match(/^file:\/\/\//)?n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0].replace(/^([^/:]+):\/*/,"$1://");for(var P=0;P<n.length;P++){var q=n[P];if("string"!=typeof q)throw TypeError("Url must be a string. Received "+q);""!==q&&(P>0&&(q=q.replace(/^[\/]+/,"")),q=q.replace(/[\/]+$/,P<n.length-1?"":"/"),h.push(q))}var B=h.join("/"),U=(B=B.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return U.shift()+(U.length>0?"?":"")+U.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},n.exports?n.exports=h():e$.urljoin=h()});function S(n){if(n.ok)return n.json();var h=Error(n.statusText);return h.response=n,Promise.reject(h)}function A(n){this.name="ConfigurationError",this.message=n||""}function D(n){this.name="TokenValidationError",this.message=n||""}A.prototype=Error.prototype,D.prototype=Error.prototype;var e9=function(){function t(){}var n=t.prototype;return n.get=function(){return null},n.has=function(){return null},n.set=function(){return null},t}();eJ.polyfill();var e7="RS256",E=function(n){return"number"==typeof n},k=function(){return new Date};function I(n){var h=n||{};if(this.jwksCache=h.jwksCache||new e9,this.expectedAlg=h.expectedAlg||"RS256",this.issuer=h.issuer,this.audience=h.audience,this.leeway=0===h.leeway?0:h.leeway||60,this.jwksURI=h.jwksURI,this.maxAge=h.maxAge,this.__clock="function"==typeof h.__clock?h.__clock:k,this.leeway<0||this.leeway>300)throw new A("The leeway should be positive and lower than five minutes.");if(e7!==this.expectedAlg)throw new A('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "'+e7+'".')}function PluginHandler(n,h){this.plugins=h;for(var j=0;j<this.plugins.length;j++){if(this.plugins[j].version!==eq.raw){var P="";throw this.plugins[j].constructor&&this.plugins[j].constructor.name&&(P=this.plugins[j].constructor.name),Error("Plugin "+P+" version ("+this.plugins[j].version+") is not compatible with the SDK version ("+eq.raw+")")}this.plugins[j].setWebAuth(n)}}I.prototype.verify=function(n,h,j){if(!j&&h&&"function"==typeof h&&(j=h,h=void 0),!n)return j(new D("ID token is required but missing"),null);var P=this.decode(n);if(P instanceof Error)return j(new D("ID token could not be decoded"),null);var q=P.encoded.header+"."+P.encoded.payload,B=T(P.encoded.signature),U=P.header.alg,L=P.header.kid,H=P.payload.aud,W=P.payload.sub,V=P.payload.iss,z=P.payload.exp,$=P.payload.nbf,J=P.payload.iat,G=P.payload.azp,K=P.payload.auth_time,X=P.payload.nonce,Q=this.__clock(),Z=this;if(Z.expectedAlg!==U)return j(new D('Signature algorithm of "'+U+'" is not supported. Expected the ID token to be signed with "'+e7+'".'),null);this.getRsaVerifier(V,L,function(n,U){if(n)return j(n,null);if(!U.verify(q,B))return j(new D("Invalid ID token signature."),null);if(!V||"string"!=typeof V)return j(new D("Issuer (iss) claim must be a string present in the ID token"),null);if(Z.issuer!==V)return j(new D('Issuer (iss) claim mismatch in the ID token, expected "'+Z.issuer+'", found "'+V+'"'),null);if(!W||"string"!=typeof W)return j(new D("Subject (sub) claim must be a string present in the ID token"),null);if(!H||"string"!=typeof H&&!Array.isArray(H))return j(new D("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(H)&&!H.includes(Z.audience))return j(new D('Audience (aud) claim mismatch in the ID token; expected "'+Z.audience+'" but was not one of "'+H.join(", ")+'"'),null);if("string"==typeof H&&Z.audience!==H)return j(new D('Audience (aud) claim mismatch in the ID token; expected "'+Z.audience+'" but found "'+H+'"'),null);if(h){if(!X||"string"!=typeof X)return j(new D("Nonce (nonce) claim must be a string present in the ID token"),null);if(X!==h)return j(new D('Nonce (nonce) claim value mismatch in the ID token; expected "'+h+'", found "'+X+'"'),null)}if(Array.isArray(H)&&H.length>1){if(!G||"string"!=typeof G)return j(new D("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(G!==Z.audience)return j(new D('Authorized Party (azp) claim mismatch in the ID token; expected "'+Z.audience+'", found "'+G+'"'),null)}if(!z||!E(z))return j(new D("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!J||!E(J))return j(new D("Issued At (iat) claim must be a number present in the ID token"),null);var L=z+Z.leeway,Y=new Date(0);if(Y.setUTCSeconds(L),Q>Y)return j(new D('Expiration Time (exp) claim error in the ID token; current time "'+Q+'" is after expiration time "'+Y+'"'),null);if($&&E($)){var tt=$-Z.leeway,te=new Date(0);if(te.setUTCSeconds(tt),Q<te)return j(new D('Not Before Time (nbf) claim error in the ID token; current time "'+Q+'" is before the not before time "'+te+'"'),null)}if(Z.maxAge){if(!K||!E(K))return j(new D("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var tr=K+Z.maxAge+Z.leeway,tn=new Date(0);if(tn.setUTCSeconds(tr),Q>tn)return j(new D('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+Q+'" is after last auth time at "'+tn+'"'),null)}return j(null,P.payload)})},I.prototype.getRsaVerifier=function(n,h,j){var P=this,q=n+h;Promise.resolve(this.jwksCache.has(q)).then(function(j){var B,U;return j?P.jwksCache.get(q):(U=(B={jwksURI:P.jwksURI,iss:n,kid:h}).jwksURI||e8(B.iss,".well-known","jwks.json"),("undefined"==fetch?function(n,h){return h=h||{},new Promise(function(j,P){var q=new XMLHttpRequest,B=[],U=[],L={},u=function(){return{ok:2==(q.status/100|0),statusText:q.statusText,status:q.status,url:q.responseURL,text:function(){return Promise.resolve(q.responseText)},json:function(){return Promise.resolve(q.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([q.response]))},clone:u,headers:{keys:function(){return B},entries:function(){return U},get:function(n){return L[n.toLowerCase()]},has:function(n){return n.toLowerCase() in L}}}};for(var H in q.open(h.method||"get",n,!0),q.onload=function(){q.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(n,h,j){B.push(h=h.toLowerCase()),U.push([h,j]),L[h]=L[h]?L[h]+","+j:j}),j(u())},q.onerror=P,q.withCredentials="include"==h.credentials,h.headers)q.setRequestHeader(H,h.headers[H]);q.send(h.body||null)})}:fetch)(U).then(S).then(function(n){var h,j,P,q=null;for(h=0;h<n.keys.length&&null===q;h++)(j=n.keys[h]).kid===B.kid&&(q=j);if(!q)throw Error('Could not find a public key for Key ID (kid) "'+B.kid+'"');return{modulus:T((P=q).n),exp:T(P.e)}}).catch(function(n){throw n}))}).then(function(n){if(!n||!n.modulus||!n.exp)throw Error("Empty keyInfo in response");return Promise.resolve(P.jwksCache.set(q,n)).then(function(){j&&j(null,new c(n.modulus,n.exp))})}).catch(function(n){j&&j(n)})},I.prototype.decode=function(n){var h,j,P=n.split(".");if(3!==P.length)return new D("Cannot decode a malformed JWT");try{h=JSON.parse(w(P[0])),j=JSON.parse(w(P[1]))}catch(n){return new D("Token header or payload is not valid JSON")}return{header:h,payload:j,encoded:{header:P[0],payload:P[1],signature:P[2]}}},I.prototype.validateAccessToken=function(n,h,j,P){if(this.expectedAlg!==h)return P(new D('Signature algorithm of "'+h+'" is not supported. Expected "'+this.expectedAlg+'"'));var q,B=eX(n),U=eZ.stringify(B),L=U.substring(0,U.length/2),H=eZ.parse(L);return P((q={"+":"-","/":"_","=":""},eQ.stringify(H).replace(/[+/=]/g,function(n){return q[n]})!==j?new D("Invalid access_token"):null))},PluginHandler.prototype.get=function(n){for(var h=0;h<this.plugins.length;h++)if(this.plugins[h].supports(n))return this.plugins[h].init();return null};var rt={randomString:function(n){var h=new Uint8Array(n),j=[],P="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",q=eN.getWindow().crypto||eN.getWindow().msCrypto;if(!q)return null;for(var B=q.getRandomValues(h),U=0;U<B.length;U++)j.push(P[B[U]%P.length]);return j.join("")}};function TransactionManager(n){var h=n.transaction||{};this.namespace=h.namespace||"com.auth0.auth.",this.keyLength=h.keyLength||32,this.stateExpiration=n.stateExpiration?n.stateExpiration/60/24:1/48,this.storage=new Storage(n),this.options=n}function IframeHandler(n){if(this.url=n.url,this.callback=n.callback,this.timeout=n.timeout||6e4,this.timeoutCallback=n.timeoutCallback||null,this.eventListenerType=n.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=n.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw Error("options.callback must be a function")}function WebMessageHandler(n){this.webAuth=n,this.warn=new Warn(n.baseOptions)}function CrossOriginAuthentication(n,h){this.webAuth=n,this.baseOptions=h,this.request=new RequestBuilder(h),this.webMessageHandler=new WebMessageHandler(n),this.storage=new Storage(h)}function createKey(n,h){return["co/verifier",encodeURIComponent(n),encodeURIComponent(h)].join("/")}function Redirect(n,h){this.webAuth=n,this.baseOptions=h,this.crossOriginAuthentication=new CrossOriginAuthentication(n,this.baseOptions),this.warn=new Warn({disableWarnings:!!h._disableDeprecationWarnings})}TransactionManager.prototype.process=function(n){if(!n.responseType)throw Error("responseType is required");var h=n.realm||n.connection,j=-1!==n.responseType.indexOf("id_token"),P=this.generateTransaction(n.appState,n.state,n.nonce,h,j,n.organization);return n.state||(n.state=P.state),j&&!n.nonce&&(n.nonce=P.nonce),n},TransactionManager.prototype.generateTransaction=function(n,h,j,P,q,B){if(h=h||rt.randomString(this.keyLength),j=j||(q?rt.randomString(this.keyLength):null),eN.getWindow().location.host!==this.options.domain){var U={nonce:j,appState:n,state:h,lastUsedConnection:P};B&&(U.organization=B),this.storage.setItem(this.namespace+h,U,{expires:this.stateExpiration})}return{state:h,nonce:j}},TransactionManager.prototype.getStoredTransaction=function(n){var h;return h=this.storage.getItem(this.namespace+n),this.clearTransaction(n),h},TransactionManager.prototype.clearTransaction=function(n){this.storage.removeItem(this.namespace+n)},IframeHandler.prototype.init=function(){var n=this,h=eN.getWindow();switch(this.iframe=h.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(h){n.eventListener(h)},this.eventListenerType){case"message":this.eventSourceObject=h;break;case"load":this.eventSourceObject=this.iframe;break;default:throw Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),h.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){n.timeoutHandler()},this.timeout)},IframeHandler.prototype.eventListener=function(n){var h={event:n,sourceObject:this.eventSourceObject};this.eventValidator.isValid(h)&&(this.destroy(),this.callback(h))},IframeHandler.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},IframeHandler.prototype.destroy=function(){var n=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){n.eventSourceObject.removeEventListener(n.eventListenerType,n.proxyEventListener,!1),n.iframe.parentNode&&n.iframe.parentNode.removeChild(n.iframe)},0)},WebMessageHandler.prototype.run=function(n,h){var j=this;n.responseMode="web_message",n.prompt="none";var P=eN.getOrigin(),q=eL.getOriginFromUrl(n.redirectUri);if(q&&P!==q)return h({error:"origin_mismatch",error_description:"The redirectUri's origin ("+q+") should match the window's origin ("+P+")."});!function(n,h,j){new IframeHandler({url:n,eventListenerType:"message",callback:function(n){j(null,n)},timeout:h.timeout,eventValidator:{isValid:function(n){return!(!n.event.data||"authorization_response"!==n.event.data.type||h.state!==n.event.data.response.state)}},timeoutCallback:function(){j({error:"timeout",error_description:"Timeout during executing web_message communication",state:h.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(n),n,function(P,q){var B=P;if(!P&&q.event.data.response.error&&(B=q.event.data.response),!B){var U=q.event.data.response;return j.webAuth.validateAuthenticationResponse(n,U,h)}return"consent_required"===B.error&&"localhost"===eN.getWindow().location.hostname&&j.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),j.webAuth.transactionManager.clearTransaction(B.state),h(eL.pick(B,["error","error_description"]))})},CrossOriginAuthentication.prototype.login=function(n,h){var j=this,P=U(this.baseOptions.rootUrl,"/co/authenticate");n.username=n.username||n.email,delete n.email;var q={client_id:n.clientID||this.baseOptions.clientID,username:n.username};n.password&&(q.password=n.password),n.otp&&(q.otp=n.otp);var B=n.realm||this.baseOptions.realm;if(B){var L=n.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";q.realm=B,q.credential_type=L}else q.credential_type="password";this.request.post(P).withCredentials().send(q).end(function(P,q){if(P){var B=P.response&&P.response.body||{error:"request_error",error_description:JSON.stringify(P)};return wrapCallback(h,{forceLegacyError:!0})(B)}function doAuth(){var P=!0===n.popup;n=eL.blacklist(n,["password","credentialType","otp","popup","onRedirecting"]);var B=eL.merge(n).with({loginTicket:q.body.login_ticket}),U=createKey(j.baseOptions.rootUrl,q.body.co_id);j.storage.setItem(U,q.body.co_verifier,{expires:1/96}),P?j.webMessageHandler.run(B,wrapCallback(h,{forceLegacyError:!0})):j.webAuth.authorize(B)}"function"==typeof n.onRedirecting?n.onRedirecting(doAuth):doAuth()})},CrossOriginAuthentication.prototype.callback=function(){var n=decodeURIComponent(function(n){var h=("&"+eN.getWindow().location.hash.substring(1)).split("&"+n+"=");if(2===h.length)return h.pop().split("&").shift()}("origin")),h=eN.getWindow(),j=this;h.addEventListener("message",function(n){if("co_verifier_request"===n.data.type){var h=createKey(n.origin,n.data.request.id),P=function(n,h){try{var j=n.getItem(h);return n.removeItem(h),j||""}catch(n){return""}}(j.storage,h);n.source.postMessage({type:"co_verifier_response",response:{verifier:P}},n.origin)}}),h.parent.postMessage({type:"ready"},n)},Redirect.prototype.loginWithCredentials=function(n,h){n.realm=n.realm||n.connection,delete n.connection,this.crossOriginAuthentication.login(n,h)},Redirect.prototype.signupAndLogin=function(n,h){var j=this;return this.webAuth.client.dbConnection.signup(n,function(P){return P?h(P):(n.realm=n.realm||n.connection,delete n.connection,j.webAuth.login(n,h))})};var re=createCommonjsModule(function(n){var h=function(){function addListener(n,h,j){n.attachEvent?n.attachEvent("on"+h,j):n.addEventListener&&n.addEventListener(h,j,!1)}function removeListener(n,h,j){n.detachEvent?n.detachEvent("on"+h,j):n.removeEventListener&&n.removeEventListener(h,j,!1)}function extractOrigin(n){/^https?:\/\//.test(n)||(n=window.location.href);var h=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(n);return h?h[1]:n}var n=function(){if("undefined"==typeof navigator)return!1;var n=-1,h=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(h)&&(n=parseFloat(RegExp.$1)):h.indexOf("Trident")>-1&&null!==RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(h)&&(n=parseFloat(RegExp.$1)),n>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(h,j){if(!j)throw"missing required callback argument";h.url||(P="missing required 'url' parameter"),h.relay_url||(P="missing required 'relay_url' parameter"),P&&setTimeout(function(){j(P)},0),h.window_name||(h.window_name=null),h.window_features&&!function(){try{var n=navigator.userAgent;return -1!=n.indexOf("Fennec/")||-1!=n.indexOf("Firefox/")&&-1!=n.indexOf("Android")}catch(n){}return!1}()||(h.window_features=void 0);var P,q,B,U=h.origin||extractOrigin(h.url);if(U!==extractOrigin(h.relay_url))return setTimeout(function(){j("invalid arguments: origin of url and relay_url must match")},0);n&&((q=document.createElement("iframe")).setAttribute("src",h.relay_url),q.style.display="none",q.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(q),B=q.contentWindow);var L=h.popup||window.open(h.url,h.window_name,h.window_features);h.popup&&(L.location.href=h.url),B||(B=L);var H=setInterval(function(){L&&L.closed&&(cleanup(),j&&(j("User closed the popup window"),j=null))},500),W=JSON.stringify({a:"request",d:h.params});function cleanup(){if(q&&document.body.removeChild(q),q=void 0,H&&(H=clearInterval(H)),removeListener(window,"message",onMessage),removeListener(window,"unload",cleanup),L)try{L.close()}catch(n){B.postMessage("die",U)}L=B=void 0}function onMessage(n){if(n.origin===U){try{var h=JSON.parse(n.data)}catch(n){if(j)return j(n);throw n}"ready"===h.a?B.postMessage(W,U):"error"===h.a?(cleanup(),j&&(j(h.d),j=null)):"response"===h.a&&(cleanup(),j&&(j(null,h.d),j=null))}}return addListener(window,"unload",cleanup),addListener(window,"message",onMessage),{originalPopup:L,close:cleanup,focus:function(){if(L)try{L.focus()}catch(n){}}}},onOpen:function(h){var j="*",P=n?function(){for(var n=window.opener.frames,h=n.length-1;h>=0;h--)try{if(n[h].location.protocol===window.location.protocol&&n[h].location.host===window.location.host&&"__winchan_relay_frame"===n[h].name)return n[h]}catch(n){}}():window.opener;if(!P)throw"can't find relay frame";function doPost(h){h=JSON.stringify(h),n?P.doPost(h,j):P.postMessage(h,j)}function onDie(n){if("die"===n.data)try{window.close()}catch(n){}}addListener(n?P:window,"message",function onMessage(n){var P;try{P=JSON.parse(n.data)}catch(n){}P&&"request"===P.a&&(removeListener(window,"message",onMessage),j=n.origin,h&&setTimeout(function(){h(j,P.d,function(n){h=void 0,doPost({a:"response",d:n})})},0))}),addListener(n?P:window,"message",onDie);try{doPost({a:"ready"})}catch(n){addListener(P,"load",function(n){doPost({a:"ready"})})}var onUnload=function(){try{removeListener(n?P:window,"message",onDie)}catch(n){}h&&doPost({a:"error",d:"client closed window"}),h=void 0;try{window.close()}catch(n){}};return addListener(window,"unload",onUnload),{detach:function(){removeListener(window,"unload",onUnload)}}}}:{open:function(n,h,j,P){setTimeout(function(){P("unsupported browser")},0)},onOpen:function(n){setTimeout(function(){n("unsupported browser")},0)}}}();n.exports&&(n.exports=h)}),rr={extractOrigin:function(n){/^https?:\/\//.test(n)||(n=window.location.href);var h=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(n);return h?h[1]:n}};function PopupHandler(){this._current_popup=null}function Popup(n,h){this.baseOptions=h,this.baseOptions.popupOrigin=h.popupOrigin,this.client=n.client,this.webAuth=n,this.transactionManager=new TransactionManager(this.baseOptions),this.crossOriginAuthentication=new CrossOriginAuthentication(n,this.baseOptions),this.warn=new Warn({disableWarnings:!!h._disableDeprecationWarnings})}function SilentAuthenticationHandler(n){this.authenticationUrl=n.authenticationUrl,this.timeout=n.timeout||6e4,this.handler=null,this.postMessageDataType=n.postMessageDataType||!1,this.postMessageOrigin=n.postMessageOrigin||eN.getWindow().location.origin||eN.getWindow().location.protocol+"//"+eN.getWindow().location.hostname+(eN.getWindow().location.port?":"+eN.getWindow().location.port:"")}function UsernamePassword(n){this.baseOptions=n,this.request=new RequestBuilder(n),this.transactionManager=new TransactionManager(this.baseOptions)}function HostedPages(n,h){this.baseOptions=h,this.client=n,this.baseOptions.universalLoginPage=!0,this.request=new RequestBuilder(this.baseOptions),this.warn=new Warn({disableWarnings:!!h._disableDeprecationWarnings})}PopupHandler.prototype.calculatePosition=function(n){var h=n.width||500,j=n.height||600,P=eN.getWindow(),q=void 0!==P.screenX?P.screenX:P.screenLeft,B=void 0!==P.screenY?P.screenY:P.screenTop,U=void 0!==P.outerWidth?P.outerWidth:P.document.body.clientWidth,L=void 0!==P.outerHeight?P.outerHeight:P.document.body.clientHeight;return{width:h,height:j,left:n.left||q+(U-h)/2,top:n.top||B+(L-j)/2}},PopupHandler.prototype.preload=function(n){var h=this,j=eN.getWindow(),P=this.calculatePosition(n.popupOptions||{}),q=eL.merge(P).with(n.popupOptions),B=n.url||"about:blank",U=ey.stringify(q,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=j.open(B,"auth0_signup_popup",U),this._current_popup.kill=function(){this.close(),h._current_popup=null}),this._current_popup},PopupHandler.prototype.load=function(n,h,j,P){var q=this,B=this.calculatePosition(j.popupOptions||{}),U=eL.merge(B).with(j.popupOptions),L=eL.merge({url:n,relay_url:h,window_features:ey.stringify(U,{delimiter:",",encode:!1}),popup:this._current_popup}).with(j),H=re.open(L,function(n,h){if(!n||"SyntaxError"!==n.name)return q._current_popup=null,P(n,h)});return H.focus(),H},Popup.prototype.buildPopupHandler=function(){var n=this.baseOptions.plugins.get("popup.getPopupHandler");return n?n.getPopupHandler():new PopupHandler},Popup.prototype.preload=function(n){n=n||{};var h=this.buildPopupHandler();return h.preload(n),h},Popup.prototype.getPopupHandler=function(n,h){return n.popupHandler?n.popupHandler:h?this.preload(n):this.buildPopupHandler()},Popup.prototype.callback=function(n){var h=this,j=eN.getWindow(),P=(n=n||{}).popupOrigin||this.baseOptions.popupOrigin||eN.getOrigin();j.opener?re.onOpen(function(j,q,B){if(j!==P)return B({error:"origin_mismatch",error_description:"The popup's origin ("+j+") should match the `popupOrigin` parameter ("+P+")."});h.webAuth.parseHash(n||{},function(n,h){return B(n||h)})}):j.doPost=function(n){j.parent&&j.parent.postMessage(n,P)}},Popup.prototype.authorize=function(n,h){var j,P,q={},B=this.baseOptions.plugins.get("popup.authorize"),L=eL.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(eL.blacklist(n,["popupHandler"]));return eB.check(L,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),P=U(this.baseOptions.rootUrl,"relay.html"),n.owp?L.owp=!0:(q.origin=rr.extractOrigin(L.redirectUri),P=L.redirectUri),n.popupOptions&&(q.popupOptions=eL.pick(n.popupOptions,["width","height","top","left"])),B&&(L=B.processParams(L)),(L=this.transactionManager.process(L)).scope=L.scope||"openid profile email",delete L.domain,j=this.client.buildAuthorizeUrl(L),this.getPopupHandler(n).load(j,P,q,wrapCallback(h,{keepOriginalCasing:!0}))},Popup.prototype.loginWithCredentials=function(n,h){n.realm=n.realm||n.connection,n.popup=!0,n=eL.merge(this.baseOptions,["redirectUri","responseType","state","nonce","timeout"]).with(eL.blacklist(n,["popupHandler","connection"])),n=this.transactionManager.process(n),this.crossOriginAuthentication.login(n,h)},Popup.prototype.passwordlessVerify=function(n,h){var j=this;return this.client.passwordless.verify(eL.blacklist(n,["popupHandler"]),function(P){if(P)return h(P);n.username=n.phoneNumber||n.email,n.password=n.verificationCode,delete n.email,delete n.phoneNumber,delete n.verificationCode,delete n.type,j.client.loginWithResourceOwner(n,h)})},Popup.prototype.signupAndLogin=function(n,h){var j=this;return this.client.dbConnection.signup(n,function(P){if(P)return h(P);j.loginWithCredentials(n,h)})},SilentAuthenticationHandler.create=function(n){return new SilentAuthenticationHandler(n)},SilentAuthenticationHandler.prototype.login=function(n,h){this.handler=new IframeHandler({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:n?"message":"load",callback:this.getCallbackHandler(h,n),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){h(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:n||!1}),this.handler.init()},SilentAuthenticationHandler.prototype.getEventValidator=function(){var n=this;return{isValid:function(h){switch(h.event.type){case"message":return h.event.origin===n.postMessageOrigin&&h.event.source===n.handler.iframe.contentWindow&&(!1===n.postMessageDataType||h.event.data.type&&h.event.data.type===n.postMessageDataType);case"load":if("about:"===h.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},SilentAuthenticationHandler.prototype.getCallbackHandler=function(n,h){return function(j){n(null,h?"object"==typeof j.event.data&&j.event.data.hash?j.event.data.hash:j.event.data:j.sourceObject.contentWindow.location.hash)}},UsernamePassword.prototype.login=function(n,h){var j,P;return j=U(this.baseOptions.rootUrl,"usernamepassword","login"),n.username=n.username||n.email,n=eL.blacklist(n,["email","onRedirecting"]),P=eL.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(n),P=this.transactionManager.process(P),P=eL.toSnakeCase(P,["auth0Client"]),this.request.post(j).send(P).end(wrapCallback(h))},UsernamePassword.prototype.callback=function(n){var h,j=eN.getDocument();(h=j.createElement("div")).innerHTML=n,j.body.appendChild(h).children[0].submit()},HostedPages.prototype.login=function(n,h){if(eN.getWindow().location.host!==this.baseOptions.domain)throw Error("This method is meant to be used only inside the Universal Login Page.");var j,P=eL.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(n);return eB.check(P,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(j=new UsernamePassword(this.baseOptions)).login(P,function(P,q){if(P)return h(P);function doAuth(){j.callback(q)}if("function"==typeof n.onRedirecting)return n.onRedirecting(function(){doAuth()});doAuth()})},HostedPages.prototype.signupAndLogin=function(n,h){var j=this;return j.client.client.dbConnection.signup(n,function(P){return P?h(P):j.login(n,h)})},HostedPages.prototype.getSSOData=function(n,h){var j,P="";return"function"==typeof n&&(h=n,n=!1),eB.check(n,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),n&&(P="?"+ey.stringify({ldaps:1,client_id:this.baseOptions.clientID})),j=U(this.baseOptions.rootUrl,"user","ssodata",P),this.request.get(j,{noHeaders:!0}).withCredentials().end(wrapCallback(h))};var noop=function(){},rn=noop,ro={lang:"en",templates:{auth0:function(n){var h="code"===n.type?"Enter the code shown above":"Solve the formula shown above";return'<div class="captcha-challenge">\n  <img src="'+n.image+'" />\n  <button type="button" class="captcha-reload"></button>\n</div>\n<input type="text" name="captcha"\n  class="form-control captcha-control"\n  placeholder="'+h+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},hcaptcha:function(){return'<div class="hcaptcha" ></div><input type="hidden" name="captcha" />'},friendly_captcha:function(){return'<div class="friendly-captcha" ></div><input type="hidden" name="captcha" />'},arkose:function(){return'<div class="arkose" ></div><input type="hidden" name="captcha" />'},auth0_v2:function(){return'<div class="auth0_v2" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function handleAuth0Provider(n,h,j,P){n.innerHTML=h.templates[j.provider](j),n.querySelector(".captcha-reload").addEventListener("click",function(n){n.preventDefault(),P()})}function globalForCaptchaProvider(n){switch(n){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;case"hcaptcha":return window.hcaptcha;case"friendly_captcha":return window.friendlyChallenge;case"arkose":return window.arkose;case"auth0_v2":return window.turnstile;default:throw Error("Unknown captcha provider")}}function loadScript(n,h){var j=window.document.createElement("script");for(var P in h)P.startsWith("data-")?j.dataset[P.replace("data-","")]=h[P]:j[P]=h[P];j.src=n,window.document.body.appendChild(j)}function removeScript(n){window.document.querySelectorAll('script[src="'+n+'"]').forEach(function(n){n.remove()})}function handleCaptchaProvider(n,h,j){var P,q=n.hasAttribute("data-wid")&&n.getAttribute("data-wid");function setValue(h){n.querySelector('input[name="captcha"]').value=h||""}if("friendly_captcha"===j.provider&&window.auth0FCInstance)return setValue(),void window.auth0FCInstance.reset();if("arkose"===j.provider&&globalForCaptchaProvider(j.provider))return setValue(),void globalForCaptchaProvider(j.provider).reset();if(q)return setValue(),void globalForCaptchaProvider(j.provider).reset(q);switch(n.innerHTML=h.templates[j.provider](j),j.provider){case"recaptcha_enterprise":case"recaptcha_v2":P=".recaptcha";break;case"hcaptcha":P=".hcaptcha";break;case"friendly_captcha":P=".friendly-captcha";break;case"arkose":P=".arkose";break;case"auth0_v2":P=".auth0_v2"}var B=n.querySelector(P);!function(n,h,j,P){var q=h.provider+"Callback_"+Math.floor(1000001*Math.random()),B={async:!0,defer:!0},U=function(n,h,j,P,q){switch(n){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+h+"&onload="+j;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+h+"&onload="+j;case"hcaptcha":return"https://js.hcaptcha.com/1/api.js?hl="+h+"&onload="+j;case"friendly_captcha":return"https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.12/widget.min.js";case"arkose":return"https://"+P+".arkoselabs.com/v2/"+q+"/api.js";case"auth0_v2":return"https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit&onload="+j;default:throw Error("Unknown captcha provider")}}(h.provider,h.lang,q,h.clientSubdomain,h.siteKey);if("arkose"===h.provider||"auth0_v2"===h.provider){var L=0;B["data-callback"]=q,B.onerror=function(){if(L<3)return removeScript(U),loadScript(U,B),void L++;removeScript(U),P("BYPASS_CAPTCHA")},window[q]=function(n){window.arkose=n,j(n)}}else window[q]=function(){delete window[q],j()},"friendly_captcha"===h.provider&&(B.onload=window[q]);loadScript(U,B)}(0,{lang:h.lang,provider:j.provider,clientSubdomain:j.clientSubdomain,siteKey:j.siteKey},function(P){var U=globalForCaptchaProvider(j.provider);if("arkose"===j.provider){var L=0;P.setConfig({onCompleted:function(n){setValue(n.token),rn()},onError:function(){L<3?(setValue(),P.reset(),setTimeout(function(){P.run()},500),L++):setValue("BYPASS_CAPTCHA")}})}else if("friendly_captcha"===j.provider)window.auth0FCInstance=new U.WidgetInstance(B,{sitekey:j.siteKey,language:h.lang,doneCallback:function(n){setValue(n)},errorCallback:function(){setValue()}});else{var H={callback:setValue,"expired-callback":function(){setValue()},"error-callback":function(){setValue()},sitekey:j.siteKey};"auth0_v2"===j.provider&&(L=0,H.language=h.lang,H.theme="light",H.retry="never",H["response-field"]=!1,H["error-callback"]=function(){return L<3?(setValue(),globalForCaptchaProvider(j.provider).reset(q),L++):setValue("BYPASS_CAPTCHA"),!0}),q=U.render(B,H),n.setAttribute("data-wid",q)}},setValue)}var ri={render:function(n,h,j,P){function load(P){P=P||noop,n.getChallenge(function(n,q){return n?(h.innerHTML=j.templates.error(n),P(n)):q.required?(h.style.display="","auth0"===q.provider?handleAuth0Provider(h,j,q,load):"recaptcha_v2"!==q.provider&&"recaptcha_enterprise"!==q.provider&&"hcaptcha"!==q.provider&&"friendly_captcha"!==q.provider&&"arkose"!==q.provider&&"auth0_v2"!==q.provider||handleCaptchaProvider(h,j,q),void("arkose"===q.provider?P(null,{triggerCaptcha:function(n){globalForCaptchaProvider(q.provider).run(),rn=n}}):P())):(h.style.display="none",void(h.innerHTML=""))})}return j=eL.merge(ro).with(j||{}),load(P),{reload:load,getValue:function(){var n=h.querySelector('input[name="captcha"]');if(n)return n.value}}},renderPasswordless:function(n,h,j,P){function load(P){P=P||noop,n.passwordless.getChallenge(function(n,q){return n?(h.innerHTML=j.templates.error(n),P(n)):q.required?(h.style.display="","auth0"===q.provider?handleAuth0Provider(h,j,q,load):"recaptcha_v2"!==q.provider&&"recaptcha_enterprise"!==q.provider&&"hcaptcha"!==q.provider&&"friendly_captcha"!==q.provider&&"arkose"!==q.provider&&"auth0_v2"!==q.provider||handleCaptchaProvider(h,j,q),void("arkose"===q.provider?P(null,{triggerCaptcha:function(n){globalForCaptchaProvider(q.provider).run(),rn=n}}):P())):(h.style.display="none",void(h.innerHTML=""))})}return j=eL.merge(ro).with(j||{}),load(P),{reload:load,getValue:function(){var n=h.querySelector('input[name="captcha"]');if(n)return n.value}}}};function defaultClock(){return new Date}function WebAuth(n){eB.check(n,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},stateExpiration:{optional:!0,type:"number",message:"stateExpiration is not valid"},legacySameSiteCookie:{optional:!0,type:"boolean",message:"legacySameSiteCookie option is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),n.overrides&&eB.check(n.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=n,this.baseOptions.plugins=new PluginHandler(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=n._timesToRetryFailedRequests?parseInt(n._timesToRetryFailedRequests):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,!1!==n.legacySameSiteCookie&&(this.baseOptions.legacySameSiteCookie=!0),this.transactionManager=new TransactionManager(this.baseOptions),this.client=new Authentication(this.baseOptions),this.redirect=new Redirect(this,this.baseOptions),this.popup=new Popup(this,this.baseOptions),this.crossOriginAuthentication=new CrossOriginAuthentication(this,this.baseOptions),this.webMessageHandler=new WebMessageHandler(this),this._universalLogin=new HostedPages(this,this.baseOptions),this.ssodataStorage=new SSODataStorage(this.baseOptions)}function PasswordlessAuthentication(n,h){this.baseOptions=h,this.request=n}function DBConnection(n,h){this.baseOptions=h,this.request=n}function Authentication(n,h){2==arguments.length?this.auth0=n:h=n,eB.check(h,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=h,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&0===this.baseOptions.domain.toLowerCase().indexOf("http")?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new RequestBuilder(this.baseOptions),this.passwordless=new PasswordlessAuthentication(this.request,this.baseOptions),this.dbConnection=new DBConnection(this.request,this.baseOptions),this.warn=new Warn({disableWarnings:!!h._disableDeprecationWarnings}),this.ssodataStorage=new SSODataStorage(this.baseOptions)}function Management(n){eB.check(n,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=n,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new RequestBuilder(this.baseOptions),this.baseOptions.rootUrl=U("https://"+this.baseOptions.domain,"api","v2")}WebAuth.prototype.parseHash=function(n,h){h||"function"!=typeof n?n=n||{}:(h=n,n={});var j,P,q=void 0===n.hash?eN.getWindow().location.hash:n.hash;if(q=q.replace(/^#?\/?/,""),(j=ey.parse(q)).hasOwnProperty("error"))return P=eW.buildResponse(j.error,j.error_description),j.state&&(P.state=j.state),h(P);if(!j.hasOwnProperty("access_token")&&!j.hasOwnProperty("id_token")&&!j.hasOwnProperty("refresh_token"))return h(null,null);var B=(this.baseOptions.responseType||n.responseType||"").split(" ");return B.length>0&&-1!==B.indexOf("token")&&!j.hasOwnProperty("access_token")?h(eW.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):B.length>0&&-1!==B.indexOf("id_token")&&!j.hasOwnProperty("id_token")?h(eW.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(n,j,h)},WebAuth.prototype.validateAuthenticationResponse=function(n,h,j){var P=this;n.__enableIdPInitiatedLogin=n.__enableIdPInitiatedLogin||n.__enableImpersonation;var q=h.state,B=this.transactionManager.getStoredTransaction(q),U=n.state||B&&B.state||null,L=U===q;if(!(!q&&!U&&n.__enableIdPInitiatedLogin)&&!L)return j({error:"invalid_token",errorDescription:"`state` does not match."});var H=n.nonce||B&&B.nonce||null,W=B&&B.organization,V=n.state||B&&B.appState||null,callback=function(n,q){var U;return n?j(n):(B&&B.lastUsedConnection&&(q&&(U=q.sub),P.ssodataStorage.set(B.lastUsedConnection,U)),j(null,{accessToken:h.access_token||null,idToken:h.id_token||null,idTokenPayload:q||null,appState:V||null,refreshToken:h.refresh_token||null,state:h.state||null,expiresIn:h.expires_in?parseInt(h.expires_in,10):null,tokenType:h.token_type||null,scope:h.scope||null}))};return h.id_token?this.validateToken(h.id_token,H,function(n,j){if(!n){if(W){if(0===W.indexOf("org_")){if(!j.org_id)return callback(eW.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(j.org_id!==W)return callback(eW.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+W+'", found "'+j.org_id+'"'))}else{if(!j.org_name)return callback(eW.invalidToken("Organization Name (org_name) claim must be a string present in the ID token"));if(j.org_name!==W.toLowerCase())return callback(eW.invalidToken('Organization Name (org_name) claim value mismatch in the ID token; expected "'+W+'", found "'+j.org_name+'"'))}}return h.access_token&&j.at_hash?(new I).validateAccessToken(h.access_token,"RS256",j.at_hash,function(n){return n?callback(eW.invalidToken(n.message)):callback(null,j)}):callback(null,j)}if("invalid_token"!==n.error||n.errorDescription&&n.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return callback(n);var q=(new I).decode(h.id_token);return"HS256"!==q.header.alg?callback(n):(q.payload.nonce||null)!==H?callback({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+H+'", found "'+q.payload.nonce+'"'}):h.access_token?P.client.userInfo(h.access_token,function(n,h){return n?callback(n):callback(null,h)}):callback({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})}):callback(null,null)},WebAuth.prototype.validateToken=function(n,h,j){new I({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||defaultClock}).verify(n,h,function(n,h){if(n)return j(eW.invalidToken(n.message));j(null,h)})},WebAuth.prototype.renewAuth=function(n,h){var j=!!n.usePostMessage,P=n.postMessageDataType||!1,q=n.postMessageOrigin||eN.getWindow().origin,B=n.timeout,U=this,L=eL.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(n);L.responseType=L.responseType||"token",L.responseMode=L.responseMode||"fragment",L=this.transactionManager.process(L),eB.check(L,{type:"object",message:"options parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),L.prompt="none",L=eL.blacklist(L,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),SilentAuthenticationHandler.create({authenticationUrl:this.client.buildAuthorizeUrl(L),postMessageDataType:P,postMessageOrigin:q,timeout:B}).login(j,function(n,j){if("object"==typeof j)return h(n,j);U.parseHash({hash:j},h)})},WebAuth.prototype.checkSession=function(n,h){var j=eL.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(n);return"code"===j.responseType?h({error:"error",error_description:"responseType can't be `code`"}):(n.nonce||(j=this.transactionManager.process(j)),j.redirectUri?(eB.check(j,{type:"object",message:"options parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=eL.blacklist(j,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(j,wrapCallback(h,{forceLegacyError:!0,ignoreCasing:!0}))):h({error:"error",error_description:"redirectUri can't be empty"}))},WebAuth.prototype.changePassword=function(n,h){return this.client.dbConnection.changePassword(n,h)},WebAuth.prototype.passwordlessStart=function(n,h){var j=eL.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(n.authParams);return n.authParams=this.transactionManager.process(j),this.client.passwordless.start(n,h)},WebAuth.prototype.signup=function(n,h){return this.client.dbConnection.signup(n,h)},WebAuth.prototype.authorize=function(n){var h=eL.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(n);eB.check(h,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(h=this.transactionManager.process(h)).scope=h.scope||"openid profile email",eN.redirect(this.client.buildAuthorizeUrl(h))},WebAuth.prototype.signupAndAuthorize=function(n,h){var j=this;return this.client.dbConnection.signup(eL.blacklist(n,["popupHandler"]),function(P){if(P)return h(P);n.realm=n.connection,n.username||(n.username=n.email),j.client.login(n,h)})},WebAuth.prototype.login=function(n,h){var j=eL.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(n);j=this.transactionManager.process(j),eN.getWindow().location.host===this.baseOptions.domain?(j.connection=j.realm,delete j.realm,this._universalLogin.login(j,h)):this.crossOriginAuthentication.login(j,h)},WebAuth.prototype.passwordlessLogin=function(n,h){var j=eL.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(n);if(j=this.transactionManager.process(j),eN.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(j,h);else{var P=eL.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:j.connection,username:j.email||j.phoneNumber,otp:j.verificationCode},eL.blacklist(j,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(P,h)}},WebAuth.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},WebAuth.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},WebAuth.prototype.logout=function(n){eN.redirect(this.client.buildLogoutUrl(n))},WebAuth.prototype.passwordlessVerify=function(n,h){var j=this,P=eL.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(n);return eB.check(P,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),P=this.transactionManager.process(P),this.client.passwordless.verify(P,function(q){if(q)return h(q);function doAuth(){eN.redirect(j.client.passwordless.buildVerifyUrl(P))}if("function"==typeof n.onRedirecting)return n.onRedirecting(function(){doAuth()});doAuth()})},WebAuth.prototype.renderCaptcha=function(n,h,j){return ri.render(this.client,n,h,j)},WebAuth.prototype.renderPasswordlessCaptcha=function(n,h,j){return ri.renderPasswordless(this.client,n,h,j)},PasswordlessAuthentication.prototype.buildVerifyUrl=function(n){var h,j;return eB.check(n,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(n){return!n.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(n){return!n.phoneNumber}}}),h=eL.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(n),this.baseOptions._sendTelemetry&&(h.auth0Client=this.request.getTelemetryData()),h=eL.toSnakeCase(h,["auth0Client"]),j=ey.stringify(h),U(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+j)},PasswordlessAuthentication.prototype.start=function(n,h){eB.check(n,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(n){return"code"===n.send||!n.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(n){return"link"===n.send||!n.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"passwordless","start");var j,P,q=n.xRequestLanguage;delete n.xRequestLanguage,(P=eL.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(n)).scope&&(P.authParams=P.authParams||{},P.authParams.scope=P.authParams.scope||P.scope),P.redirectUri&&(P.authParams=P.authParams||{},P.authParams.redirect_uri=P.authParams.redirectUri||P.redirectUri),P.responseType&&(P.authParams=P.authParams||{},P.authParams.response_type=P.authParams.responseType||P.responseType),delete P.redirectUri,delete P.responseType,delete P.scope,P=eL.toSnakeCase(P,["auth0Client","authParams"]);var B=q?{xRequestLanguage:q}:void 0;return this.request.post(j,B).send(P).end(wrapCallback(h))},PasswordlessAuthentication.prototype.verify=function(n,h){var j,P;return eB.check(n,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(n){return!n.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(n){return!n.phoneNumber}}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),P=eL.pick(n,["connection","verificationCode","phoneNumber","email","auth0Client","clientID"]),P=eL.toSnakeCase(P,["auth0Client"]),j=U(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(j).send(P).end(wrapCallback(h))},PasswordlessAuthentication.prototype.getChallenge=function(n){if(eB.check(n,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return n();var h=U(this.baseOptions.rootUrl,"passwordless","challenge");return this.request.post(h).send({state:this.baseOptions.state}).end(wrapCallback(n,{ignoreCasing:!0}))},DBConnection.prototype.signup=function(n,h){var j,P,q;return eB.check(n,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"dbconnections","signup"),q=(P=eL.merge(this.baseOptions,["clientID","state"]).with(n)).user_metadata||P.userMetadata,P=eL.blacklist(P,["scope","userMetadata","user_metadata"]),P=eL.toSnakeCase(P,["auth0Client"]),q&&(P.user_metadata=q),this.request.post(j).send(P).end(wrapCallback(h))},DBConnection.prototype.changePassword=function(n,h){var j,P;return eB.check(n,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"dbconnections","change_password"),P=eL.merge(this.baseOptions,["clientID"]).with(n,["email","connection"]),P=eL.toSnakeCase(P,["auth0Client"]),this.request.post(j).send(P).end(wrapCallback(h))},Authentication.prototype.buildAuthorizeUrl=function(n){var h,j;return eB.check(n,{type:"object",message:"options parameter is not valid"}),h=eL.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(n),eB.check(h,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(n){return -1===n.responseType.indexOf("code")&&-1!==n.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(h.auth0Client=this.request.getTelemetryData()),h.connection_scope&&eB.isArray(h.connection_scope)&&(h.connection_scope=h.connection_scope.join(",")),h=eL.blacklist(h,["username","popupOptions","domain","tenant","timeout","appState"]),h=eL.toSnakeCase(h,["auth0Client"]),h=ez.oauthAuthorizeParams(this.warn,h),j=ey.stringify(h),U(this.baseOptions.rootUrl,"authorize","?"+j)},Authentication.prototype.buildLogoutUrl=function(n){var h,j;return eB.check(n,{optional:!0,type:"object",message:"options parameter is not valid"}),h=eL.merge(this.baseOptions,["clientID"]).with(n||{}),this.baseOptions._sendTelemetry&&(h.auth0Client=this.request.getTelemetryData()),h=eL.toSnakeCase(h,["auth0Client","returnTo"]),j=ey.stringify(eL.blacklist(h,["federated"])),n&&void 0!==n.federated&&!1!==n.federated&&"false"!==n.federated&&(j+="&federated"),U(this.baseOptions.rootUrl,"v2","logout","?"+j)},Authentication.prototype.loginWithDefaultDirectory=function(n,h){return eB.check(n,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),n.grantType="password",this.oauthToken(n,h)},Authentication.prototype.login=function(n,h){return eB.check(n,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),n.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(n,h)},Authentication.prototype.oauthToken=function(n,h){var j,P;return eB.check(n,{type:"object",message:"options parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"oauth","token"),P=eL.merge(this.baseOptions,["clientID","scope","audience"]).with(n),eB.check(P,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),P=eL.toSnakeCase(P,["auth0Client"]),P=ez.oauthTokenParams(this.warn,P),this.request.post(j).send(P).end(wrapCallback(h))},Authentication.prototype.loginWithResourceOwner=function(n,h){var j,P;return eB.check(n,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"oauth","ro"),P=eL.merge(this.baseOptions,["clientID","scope"]).with(n,["username","password","scope","connection","device"]),(P=eL.toSnakeCase(P,["auth0Client"])).grant_type=P.grant_type||"password",this.request.post(j).send(P).end(wrapCallback(h))},Authentication.prototype.getSSOData=function(n,h){if(this.auth0||(this.auth0=new WebAuth(this.baseOptions)),eN.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(n,h);"function"==typeof n&&(h=n),eB.check(h,{type:"function",message:"cb parameter is not valid"});var j=this.baseOptions.clientID,P=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:P.lastUsedConnection,timeout:5e3},function(n,q){return n?"login_required"===n.error?h(null,{sso:!1}):("consent_required"===n.error&&(n.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),h(n,{sso:!1})):P.lastUsedSub&&P.lastUsedSub!==q.idTokenPayload.sub?h(n,{sso:!1}):h(null,{lastUsedConnection:{name:P.lastUsedConnection},lastUsedUserID:q.idTokenPayload.sub,lastUsedUsername:q.idTokenPayload.email||q.idTokenPayload.name,lastUsedClientID:j,sessionClients:[j],sso:!0})})},Authentication.prototype.userInfo=function(n,h){var j;return eB.check(n,{type:"string",message:"accessToken parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"userinfo"),this.request.get(j).set("Authorization","Bearer "+n).end(wrapCallback(h,{ignoreCasing:!0}))},Authentication.prototype.getChallenge=function(n){if(eB.check(n,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return n();var h=U(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(h).send({state:this.baseOptions.state}).end(wrapCallback(n,{ignoreCasing:!0}))},Authentication.prototype.delegation=function(n,h){var j,P;return eB.check(n,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"delegation"),P=eL.merge(this.baseOptions,["clientID"]).with(n),P=eL.toSnakeCase(P,["auth0Client"]),this.request.post(j).send(P).end(wrapCallback(h))},Authentication.prototype.getUserCountry=function(n){var h;return eB.check(n,{type:"function",message:"cb parameter is not valid"}),h=U(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(h).end(wrapCallback(n))},Management.prototype.getUser=function(n,h){var j;return eB.check(n,{type:"string",message:"userId parameter is not valid"}),eB.check(h,{type:"function",message:"cb parameter is not valid"}),j=U(this.baseOptions.rootUrl,"users",n),this.request.get(j).end(wrapCallback(h,{ignoreCasing:!0}))},Management.prototype.patchUserMetadata=function(n,h,j){var P;return eB.check(n,{type:"string",message:"userId parameter is not valid"}),eB.check(h,{type:"object",message:"userMetadata parameter is not valid"}),eB.check(j,{type:"function",message:"cb parameter is not valid"}),P=U(this.baseOptions.rootUrl,"users",n),this.request.patch(P).send({user_metadata:h}).end(wrapCallback(j,{ignoreCasing:!0}))},Management.prototype.patchUserAttributes=function(n,h,j){var P;return eB.check(n,{type:"string",message:"userId parameter is not valid"}),eB.check(h,{type:"object",message:"user parameter is not valid"}),eB.check(j,{type:"function",message:"cb parameter is not valid"}),P=U(this.baseOptions.rootUrl,"users",n),this.request.patch(P).send(h).end(wrapCallback(j,{ignoreCasing:!0}))},Management.prototype.linkUser=function(n,h,j){var P;return eB.check(n,{type:"string",message:"userId parameter is not valid"}),eB.check(h,{type:"string",message:"secondaryUserToken parameter is not valid"}),eB.check(j,{type:"function",message:"cb parameter is not valid"}),P=U(this.baseOptions.rootUrl,"users",n,"identities"),this.request.post(P).send({link_with:h}).end(wrapCallback(j,{ignoreCasing:!0}))}}}]);